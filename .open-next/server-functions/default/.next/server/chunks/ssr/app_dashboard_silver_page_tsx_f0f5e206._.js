module.exports=[30822,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(35112);function e(a,b,c){let d="function"==typeof a.colSpan?a.colSpan(c):1;if(Number.isInteger(d)&&d>1&&(!a.frozen||a.idx+d-1<=b))return d}function f(a){a.stopPropagation()}function g(a,b="instant"){a?.scrollIntoView({inline:"nearest",block:"nearest",behavior:b})}function h(a){let b=!1,c={...a,preventGridDefault(){b=!0},isGridDefaultPrevented:()=>b};return Object.setPrototypeOf(c,Object.getPrototypeOf(a)),c}let i=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function j(a){return(a.ctrlKey||a.metaKey)&&"Control"!==a.key}function k(a){let b="rtl"===a;return{leftKey:b?"ArrowRight":"ArrowLeft",rightKey:b?"ArrowLeft":"ArrowRight"}}function l(a,b){return null!=a.renderEditCell&&("function"==typeof a.editable?a.editable(b):a.editable)!==!1}let m="rdg-cell rdg-7-0-0-beta-58-85c48527";function n(a){return{"--rdg-grid-row-start":a}}function o(a,b,c){let d=b+1,e=`calc(${c-1} * var(--rdg-header-row-height))`;return void 0===a.parent?{insetBlockStart:0,gridRowStart:1,gridRowEnd:d,paddingBlockStart:e}:{insetBlockStart:`calc(${b-c} * var(--rdg-header-row-height))`,gridRowStart:d-c,gridRowEnd:d,paddingBlockStart:e}}function p(a,b=1){let c=a.idx+1;return{gridColumnStart:c,gridColumnEnd:c+b,insetInlineStart:a.frozen?`var(--rdg-frozen-left-${a.idx})`:void 0}}function q(...a){let b="";for(let c of a)if(c){if("string"==typeof c)b+=` ${c}`;else if("object"==typeof c)for(let a in c)c[a]&&(b+=` ${a}`)}return b.trimStart()}function r(a,...b){return q(m,{"rdg-cell-frozen rdg-7-0-0-beta-58-17a9a6d4":a.frozen},...b)}let{min:s,max:t,floor:u,sign:v,abs:w}=Math;function x(a){if("function"!=typeof a)throw Error("Please specify the rowKeyGetter prop to use selection")}function y(a,{minWidth:b,maxWidth:c}){return(a=t(a,b),"number"==typeof c&&c>=b)?s(a,c):a}function z(a,b){return void 0===a.parent?b:a.level-a.parent.level}function A({onChange:a,indeterminate:c,...d}){return(0,b.jsx)("input",{ref:a=>{a&&(a.indeterminate=!0===c)},type:"checkbox",className:"rdg-checkbox-input rdg-7-0-0-beta-58-3b807ead",onChange:function(b){a(b.target.checked,b.nativeEvent.shiftKey)},...d})}function B(a){try{return a.row[a.column.key]}catch{return null}}let C=(0,c.createContext)(void 0);function D(){return(0,c.useContext)(C)}let E=(0,c.createContext)(void 0),F=(0,c.createContext)(void 0),G=(0,c.createContext)(void 0),H=(0,c.createContext)(void 0),I="rdg-select-column";function J({column:a,sortDirection:c,priority:d}){return a.sortable?(0,b.jsx)(K,{sortDirection:c,priority:d,children:a.name}):a.name}function K({sortDirection:a,priority:c,children:d}){let e=D().renderSortStatus;return(0,b.jsxs)("span",{className:"rdg-7-0-0-beta-58-56a248e4",children:[(0,b.jsx)("span",{className:"rdg-header-sort-name rdg-7-0-0-beta-58-7fad8c83",children:d}),(0,b.jsx)("span",{children:e({sortDirection:a,priority:c})})]})}function L(a,b){let c=`[data-measuring-cell-key="${CSS.escape(b)}"]`;return a.current?.querySelector(c)?.getBoundingClientRect().width}function M(a){let b=(0,c.useRef)(a);(0,c.useLayoutEffect)(()=>{b.current=a});let d=(0,c.useCallback)((...a)=>{b.current(...a)},[]);return a?d:a}function N(a){let[b,d]=(0,c.useState)(!1);return b&&!a&&d(!1),{tabIndex:a&&!b?0:-1,childTabIndex:a?0:-1,onFocus:a?function(a){if(a.target===a.currentTarget){let b=a.currentTarget.querySelector('[tabindex="0"]');null!==b?(b.focus({preventScroll:!0}),d(!0)):d(!1)}else d(!0)}:void 0}}let O=(0,c.memo)(function({column:a,colSpan:c,isCellSelected:d,isDraggedOver:e,row:f,rowIdx:g,className:i,onMouseDown:j,onCellMouseDown:k,onClick:m,onCellClick:n,onDoubleClick:o,onCellDoubleClick:q,onContextMenu:s,onCellContextMenu:t,onRowChange:u,selectCell:v,style:w,...x}){let{tabIndex:y,childTabIndex:z,onFocus:A}=N(d),{cellClass:B}=a;i=r(a,{"rdg-cell-dragged-over rdg-7-0-0-beta-58-35ccb4c8":e},"function"==typeof B?B(f):B,i);let C=l(a,f);function D(b){v({rowIdx:g,idx:a.idx},{enableEditor:b})}function E(b,c){let d=!1;if(c){let e=h(b);c({rowIdx:g,row:f,column:a,selectCell:D},e),d=e.isGridDefaultPrevented()}return d}return(0,b.jsx)("div",{role:"gridcell","aria-colindex":a.idx+1,"aria-colspan":c,"aria-selected":d,"aria-readonly":!C||void 0,tabIndex:y,className:i,style:{...p(a,c),...w},onClick:function(a){m?.(a),E(a,n)},onMouseDown:function(a){j?.(a),E(a,k)||D()},onDoubleClick:function(a){o?.(a),E(a,q)||D(!0)},onContextMenu:function(a){s?.(a),E(a,t)},onFocus:A,...x,children:a.renderCell({column:a,row:f,rowIdx:g,isCellEditable:C,tabIndex:z,onRowChange:function(b){u(a,b)}})})});function P(a,c){return(0,b.jsx)(O,{...c},a)}let Q="object"==typeof scheduler&&"function"==typeof scheduler.postTask;function R({column:a,colSpan:d,row:e,rowIdx:f,onRowChange:g,closeEditor:i,onKeyDown:j,navigate:k}){let l=(0,c.useRef)(void 0),m=(0,c.useRef)(void 0),n=(0,c.useRef)(void 0),o=a.editorOptions?.commitOnOutsideClick??!0,q=(0,c.useEffectEvent)(()=>{t(!0,!1)});function s(){l.current=void 0,void 0!==m.current&&(m.current.abort(),m.current=void 0),void 0!==n.current&&(cancelAnimationFrame(n.current),n.current=void 0)}function t(a=!1,b=!0){a?g(e,!0,b):i(b)}function u(a,b=!1){g(a,b,b)}(0,c.useLayoutEffect)(()=>{if(o)return addEventListener("mousedown",a,{capture:!0}),addEventListener("mousedown",b),()=>{removeEventListener("mousedown",a,{capture:!0}),removeEventListener("mousedown",b),s()};function a(a){if(l.current=a,Q){let a=new AbortController,{signal:b}=a;m.current=a,scheduler.postTask(q,{priority:"user-blocking",signal:b}).catch(()=>{})}else n.current=requestAnimationFrame(q)}function b(a){l.current===a&&q()}},[o]);let{cellClass:v}=a,w=r(a,"rdg-editor-container",!a.editorOptions?.displayCellContent&&"rdg-7-0-0-beta-58-46f9ea88","function"==typeof v?v(e):v);return(0,b.jsx)("div",{role:"gridcell","aria-colindex":a.idx+1,"aria-colspan":d,"aria-selected":!0,className:w,style:p(a,d),onKeyDown:function(b){if(j){let c=h(b);if(j({mode:"EDIT",row:e,column:a,rowIdx:f,navigate(){k(b)},onClose:t},c),c.isGridDefaultPrevented())return}"Escape"===b.key?t():"Enter"===b.key?t(!0):function({key:a,target:b}){return!!("Tab"===a&&(b instanceof HTMLInputElement||b instanceof HTMLTextAreaElement||b instanceof HTMLSelectElement))&&b.closest(".rdg-editor-container")?.querySelectorAll("input, textarea, select").length===1}(b)&&k(b)},onMouseDownCapture:s,children:null!=a.renderEditCell&&(0,b.jsxs)(b.Fragment,{children:[a.renderEditCell({column:a,row:e,rowIdx:f,onRowChange:u,onClose:t}),a.editorOptions?.displayCellContent&&a.renderCell({column:a,row:e,rowIdx:f,isCellEditable:!0,tabIndex:-1,onRowChange:u})]})})}function S({column:a,rowIdx:c,isCellSelected:d,selectCell:e}){let{tabIndex:f,onFocus:g}=N(d),{colSpan:h}=a,i=z(a,c),j=a.idx+1;return(0,b.jsx)("div",{role:"columnheader","aria-colindex":j,"aria-colspan":h,"aria-rowspan":i,"aria-selected":d,tabIndex:f,className:q(m,a.headerCellClass),style:{...o(a,c,i),gridColumnStart:j,gridColumnEnd:j+h},onFocus:g,onMouseDown:function(){e({idx:a.idx,rowIdx:c})},children:a.name})}function T({column:a,colSpan:e,rowIdx:f,isCellSelected:g,onColumnResize:h,onColumnResizeEnd:i,onColumnsReorder:l,sortColumns:m,onSortColumnsChange:n,selectCell:q,shouldFocusGrid:s,direction:t,draggedColumnKey:u,setDraggedColumnKey:v}){let w,x,[A,B]=(0,c.useState)(!1),C=(0,c.useRef)(null),D=u===a.key,E=z(a,f),{tabIndex:F,childTabIndex:G,onFocus:H}=N(s||g),I=m?.findIndex(b=>b.columnKey===a.key),J=void 0!==I&&I>-1?m[I]:void 0,K=J?.direction,L=void 0!==J&&m.length>1?I+1:void 0,M=K&&!L?"ASC"===K?"ascending":"descending":void 0,{sortable:O,resizable:P,draggable:Q}=a,R=r(a,a.headerCellClass,{"rdg-7-0-0-beta-58-2a7e240d":O,"rdg-cell-resizable rdg-7-0-0-beta-58-1893dc0f":P,"rdg-cell-draggable":Q,"rdg-cell-dragging rdg-7-0-0-beta-58-3e1a4ad4":D,"rdg-cell-drag-over rdg-7-0-0-beta-58-51abd8b8":A});function S(b){if(null==n)return;let{sortDescendingFirst:c}=a;if(void 0===J){let d={columnKey:a.key,direction:c?"DESC":"ASC"};n(m&&b?[...m,d]:[d])}else{let d;if((!0===c&&"DESC"===K||!0!==c&&"ASC"===K)&&(d={columnKey:a.key,direction:"ASC"===K?"DESC":"ASC"}),b){let a=[...m];d?a[I]=d:a.splice(I,1),n(a)}else n(d?[d]:[])}}Q&&(w={draggable:!0,onDragStart:function(b){(0,d.flushSync)(()=>{v(a.key)}),b.dataTransfer.setDragImage(C.current,0,0),b.dataTransfer.dropEffect="move"},onDragEnd:function(){v(void 0)}},void 0!==u&&u!==a.key&&(x={onDragOver:function(a){a.preventDefault(),a.dataTransfer.dropEffect="move"},onDragEnter:function(a){V(a)&&B(!0)},onDragLeave:function(a){V(a)&&B(!1)},onDrop:function(b){B(!1),b.preventDefault(),l?.(u,a.key)}}));let T={...o(a,f,E),...p(a,e)},W=a.renderHeaderCell({column:a,sortDirection:K,priority:L,tabIndex:G});return(0,b.jsxs)(b.Fragment,{children:[D&&(0,b.jsx)("div",{ref:C,style:T,className:r(a,a.headerCellClass,"rdg-7-0-0-beta-58-c8d7aa64"),children:W}),(0,b.jsxs)("div",{role:"columnheader","aria-colindex":a.idx+1,"aria-colspan":e,"aria-rowspan":E,"aria-selected":g,"aria-sort":M,tabIndex:F,className:R,style:T,onMouseDown:function(){q({idx:a.idx,rowIdx:f})},onFocus:function(a){H?.(a),s&&q({idx:0,rowIdx:f})},onClick:function(a){O&&S(a.ctrlKey||a.metaKey)},onKeyDown:function(b){let{key:c}=b;if(O&&(" "===c||"Enter"===c))b.preventDefault(),S(b.ctrlKey||b.metaKey);else if(P&&j(b)&&("ArrowLeft"===c||"ArrowRight"===c)){b.stopPropagation();let{width:d}=b.currentTarget.getBoundingClientRect(),{leftKey:e}=k(t),f=y(d+(c===e?-10:10),a);f!==d&&h(a,f)}},...w,...x,children:[W,P&&(0,b.jsx)(U,{direction:t,column:a,onColumnResize:h,onColumnResizeEnd:i})]})]})}function U({direction:a,column:d,onColumnResize:e,onColumnResizeEnd:g}){let h=(0,c.useRef)(void 0),i="rtl"===a;return(0,b.jsx)("div",{"aria-hidden":!0,className:"rdg-resize-handle rdg-7-0-0-beta-58-4e60db91",onClick:f,onPointerDown:function(a){if("mouse"===a.pointerType&&1!==a.buttons)return;a.preventDefault();let{currentTarget:b,pointerId:c}=a;b.setPointerCapture(c);let{right:d,left:e}=b.parentElement.getBoundingClientRect();h.current=i?a.clientX-e:d-a.clientX},onPointerMove:function(a){let b=h.current;if(void 0===b)return;let{width:c,right:f,left:g}=a.currentTarget.parentElement.getBoundingClientRect(),j=i?f+b-a.clientX:a.clientX+b-g;j=y(j,d),c>0&&j!==c&&e(d,j)},onLostPointerCapture:function(){g(),h.current=void 0},onDoubleClick:function(){e(d,"max-content")}})}function V(a){let b=a.relatedTarget;return!a.currentTarget.contains(b)}let W="rdg-row rdg-7-0-0-beta-58-3c083f1b",X="rdg-row-selected",Y="rdg-header-row rdg-7-0-0-beta-58-0dbd5994";var Z=(0,c.memo)(function({headerRowClass:a,rowIdx:d,columns:f,onColumnResize:g,onColumnResizeEnd:h,onColumnsReorder:i,sortColumns:j,onSortColumnsChange:k,lastFrozenColumnIndex:l,selectedCellIdx:m,selectCell:n,shouldFocusGrid:o,direction:p}){let[r,s]=(0,c.useState)(),t=[];for(let a=0;a<f.length;a++){let c=f[a],q=e(c,l,{type:"HEADER"});void 0!==q&&(a+=q-1),t.push((0,b.jsx)(T,{column:c,colSpan:q,rowIdx:d,isCellSelected:m===c.idx,onColumnResize:g,onColumnResizeEnd:h,onColumnsReorder:i,onSortColumnsChange:k,sortColumns:j,selectCell:n,shouldFocusGrid:o&&0===a,direction:p,draggedColumnKey:r,setDraggedColumnKey:s},c.key))}return(0,b.jsx)("div",{role:"row","aria-rowindex":d,className:q(Y,{[X]:-1===m},a),children:t})}),$=(0,c.memo)(function({rowIdx:a,level:c,columns:d,selectedCellIdx:e,selectCell:f}){let g=[],h=new Set;for(let i of d){let{parent:d}=i;if(void 0!==d){for(;d.level>c&&void 0!==d.parent;)d=d.parent;if(d.level===c&&!h.has(d)){h.add(d);let{idx:c}=d;g.push((0,b.jsx)(S,{column:d,rowIdx:a,isCellSelected:e===c,selectCell:f},c))}}}return(0,b.jsx)("div",{role:"row","aria-rowindex":a,className:Y,children:g})});let _=(0,c.memo)(function({className:a,rowIdx:d,gridRowStart:f,selectedCellIdx:g,isRowSelectionDisabled:h,isRowSelected:i,draggedOverCellIdx:j,lastFrozenColumnIndex:k,row:l,viewportColumns:m,selectedCellEditor:o,onCellMouseDown:p,onCellClick:r,onCellDoubleClick:s,onCellContextMenu:t,rowClass:u,onRowChange:v,selectCell:w,style:x,...y}){let z=D().renderCell,A=M((a,b)=>{v(a,d,b)});a=q(W,`rdg-row-${d%2==0?"even":"odd"}`,{[X]:-1===g},u?.(l,d),a);let B=[];for(let a=0;a<m.length;a++){let b=m[a],{idx:c}=b,f=e(b,k,{type:"ROW",row:l});void 0!==f&&(a+=f-1);let h=g===c;h&&o?B.push(o):B.push(z(b.key,{column:b,colSpan:f,row:l,rowIdx:d,isDraggedOver:j===c,isCellSelected:h,onCellMouseDown:p,onCellClick:r,onCellDoubleClick:s,onCellContextMenu:t,onRowChange:A,selectCell:w}))}return(0,b.jsx)(E,{value:(0,c.useMemo)(()=>({isRowSelected:i,isRowSelectionDisabled:h}),[h,i]),children:(0,b.jsx)("div",{role:"row",className:a,style:{...n(f),...x},...y,children:B})})});function aa(a,c){return(0,b.jsx)(_,{...c},a)}function ab({scrollToPosition:{idx:a,rowIdx:d},gridRef:e,setScrollToCellPosition:f}){let h=(0,c.useRef)(null);return(0,c.useLayoutEffect)(()=>{g(h.current,"auto")}),(0,c.useLayoutEffect)(()=>{let a=new IntersectionObserver(function(){f(null)},{root:e.current,threshold:1});return a.observe(h.current),()=>{a.disconnect()}},[e,f]),(0,b.jsx)("div",{ref:h,style:{gridColumn:void 0===a?"1/-1":a+1,gridRow:void 0===d?"1/-1":d+2}})}function ac({sortDirection:a,priority:c}){return(0,b.jsxs)(b.Fragment,{children:[function({sortDirection:a}){return void 0===a?null:(0,b.jsx)("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:"rdg-sort-arrow rdg-7-0-0-beta-58-3d5115f3","aria-hidden":!0,children:(0,b.jsx)("path",{d:"ASC"===a?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})})}({sortDirection:a}),function({priority:a}){return a}({priority:c})]})}var ad=(0,c.memo)(function({column:a,colSpan:c,row:d,rowIdx:e,isCellSelected:f,selectCell:g}){let{tabIndex:h,childTabIndex:i,onFocus:j}=N(f),{summaryCellClass:k}=a,l=r(a,"rdg-7-0-0-beta-58-d907aa87","function"==typeof k?k(d):k);return(0,b.jsx)("div",{role:"gridcell","aria-colindex":a.idx+1,"aria-colspan":c,"aria-selected":f,tabIndex:h,className:l,style:p(a,c),onMouseDown:function(){g({rowIdx:e,idx:a.idx})},onFocus:j,children:a.renderSummaryCell?.({column:a,row:d,tabIndex:i})})}),ae=(0,c.memo)(function({rowIdx:a,gridRowStart:c,row:d,viewportColumns:f,top:g,bottom:h,lastFrozenColumnIndex:i,selectedCellIdx:j,isTop:k,selectCell:l,"aria-rowindex":m}){let o=[];for(let c=0;c<f.length;c++){let g=f[c],h=e(g,i,{type:"SUMMARY",row:d});void 0!==h&&(c+=h-1);let k=j===g.idx;o.push((0,b.jsx)(ad,{column:g,colSpan:h,row:d,rowIdx:a,isCellSelected:k,selectCell:l},g.key))}return(0,b.jsx)("div",{role:"row","aria-rowindex":m,className:q(W,`rdg-row-${a%2==0?"even":"odd"}`,"rdg-summary-row rdg-7-0-0-beta-58-0b90c82c",{[X]:-1===j,"rdg-top-summary-row rdg-7-0-0-beta-58-d0520eab":k,"rdg-bottom-summary-row":!k}),style:{...n(c),"--rdg-summary-row-top":void 0!==g?`${g}px`:void 0,"--rdg-summary-row-bottom":void 0!==h?`${h}px`:void 0},children:o})});function af(a){let{ref:f,columns:m,rows:n,topSummaryRows:o,bottomSummaryRows:r,rowKeyGetter:z,onRowsChange:E,rowHeight:K,headerRowHeight:N,summaryRowHeight:O,columnWidths:Q,onColumnWidthsChange:S,selectedRows:T,isRowSelectionDisabled:U,onSelectedRowsChange:V,sortColumns:W,onSortColumnsChange:X,defaultColumnOptions:Y,onCellMouseDown:_,onCellClick:ad,onCellDoubleClick:af,onCellContextMenu:ai,onCellKeyDown:aj,onSelectedCellChange:ak,onScroll:al,onColumnResize:am,onColumnsReorder:an,onFill:ao,onCellCopy:ap,onCellPaste:aq,enableVirtualization:ar,renderers:as,className:at,style:au,rowClass:av,headerRowClass:aw,direction:ax,role:ay,"aria-label":az,"aria-labelledby":aA,"aria-description":aB,"aria-describedby":aC,"aria-rowcount":aD,"data-testid":aE,"data-cy":aF}=a,aG=D(),aH=ay??"grid",aI=K??35,aJ=N??("number"==typeof aI?aI:35),aK=O??("number"==typeof aI?aI:35),aL=as?.renderRow??aG?.renderRow??aa,aM=as?.renderCell??aG?.renderCell??P,aN=as?.renderSortStatus??aG?.renderSortStatus??ac,aO=as?.renderCheckbox??aG?.renderCheckbox??A,aP=as?.noRowsFallback??aG?.noRowsFallback,aQ=ar??!0,aR=ax??"ltr",[aS,aT]=(0,c.useState)(0),[aU,aV]=(0,c.useState)(0),[aW,aX]=(0,c.useState)(()=>Q??new Map),[aY,aZ]=(0,c.useState)(!1),[a$,a_]=(0,c.useState)(!1),[a0,a1]=(0,c.useState)(void 0),[a2,a3]=(0,c.useState)(null),[a4,a5]=(0,c.useState)(!1),[a6,a7]=(0,c.useState)(-1),a8=null!=Q&&null!=S&&!aY,a9=a8?Q:aW,ba=a8?a=>{aX(a),S(a)}:aX,bb=(0,c.useCallback)(a=>a9.get(a.key)?.width??a.width,[a9]),[bc,bd,be,bf]=function(){let a=(0,c.useRef)(null),[b,e]=(0,c.useState)(1),[f,g]=(0,c.useState)(1),[h,i]=(0,c.useState)(0);return(0,c.useLayoutEffect)(()=>{let{ResizeObserver:b}=window;if(null==b)return;let{clientWidth:c,clientHeight:f,offsetWidth:h,offsetHeight:j}=a.current,{width:k,height:l}=a.current.getBoundingClientRect(),m=j-f;e(k-h+c),g(l-m),i(m);let n=new b(b=>{let c=b[0].contentBoxSize[0],{clientHeight:f,offsetHeight:h}=a.current;(0,d.flushSync)(()=>{e(c.inlineSize),g(c.blockSize),i(h-f)})});return n.observe(a.current),()=>{n.disconnect()}},[]),[a,b,f,h]}(),{columns:bg,colSpanColumns:bh,lastFrozenColumnIndex:bi,headerRowsCount:bj,colOverscanStartIdx:bk,colOverscanEndIdx:bl,templateColumns:bm,layoutCssVars:bn,totalFrozenColumnWidth:bo}=function({rawColumns:a,defaultColumnOptions:b,getColumnWidth:d,viewportWidth:e,scrollLeft:f,enableVirtualization:g}){let h=b?.width??"auto",i=b?.minWidth??50,j=b?.maxWidth??void 0,k=b?.renderCell??B,l=b?.renderHeaderCell??J,m=b?.sortable??!1,n=b?.resizable??!1,o=b?.draggable??!1,{columns:p,colSpanColumns:q,lastFrozenColumnIndex:r,headerRowsCount:u}=(0,c.useMemo)(()=>{let b=-1,c=1,d=[];!function a(e,f,g){for(let p of e){if("children"in p){let b={name:p.name,parent:g,idx:-1,colSpan:0,level:0,headerCellClass:p.headerCellClass};a(p.children,f+1,b);continue}let e=p.frozen??!1,q={...p,parent:g,idx:0,level:0,frozen:e,width:p.width??h,minWidth:p.minWidth??i,maxWidth:p.maxWidth??j,sortable:p.sortable??m,resizable:p.resizable??n,draggable:p.draggable??o,renderCell:p.renderCell??k,renderHeaderCell:p.renderHeaderCell??l};d.push(q),e&&b++,f>c&&(c=f)}}(a,1),d.sort(({key:a,frozen:b},{key:c,frozen:d})=>a===I?-1:c===I?1:b?d?0:-1:+!!d);let e=[];return d.forEach((a,b)=>{a.idx=b,function a(b,c,d){if(d<b.level&&(b.level=d),void 0!==b.parent){let{parent:e}=b;-1===e.idx&&(e.idx=c),e.colSpan+=1,a(e,c,d-1)}}(a,b,0),null!=a.colSpan&&e.push(a)}),{columns:d,colSpanColumns:e,lastFrozenColumnIndex:b,headerRowsCount:c}},[a,h,i,j,k,l,n,m,o]),{templateColumns:v,layoutCssVars:w,totalFrozenColumnWidth:x,columnMetrics:z}=(0,c.useMemo)(()=>{let a=new Map,b=0,c=0,e=[];for(let c of p){let f=d(c);f="number"==typeof f?y(f,c):c.minWidth,e.push(`${f}px`),a.set(c,{width:f,left:b}),b+=f}if(-1!==r){let b=a.get(p[r]);c=b.left+b.width}let f={};for(let b=0;b<=r;b++){let c=p[b];f[`--rdg-frozen-left-${c.idx}`]=`${a.get(c).left}px`}return{templateColumns:e,layoutCssVars:f,totalFrozenColumnWidth:c,columnMetrics:a}},[d,p,r]),[A,C]=(0,c.useMemo)(()=>{if(!g)return[0,p.length-1];let a=f+x,b=f+e,c=p.length-1,d=s(r+1,c);if(a>=b)return[d,d];let h=d;for(;h<c;){let{left:b,width:c}=z.get(p[h]);if(b+c>a)break;h++}let i=h;for(;i<c;){let{left:a,width:c}=z.get(p[i]);if(a+c>=b)break;i++}return[t(d,h-1),s(c,i+1)]},[z,p,r,f,x,e,g]);return{columns:p,colSpanColumns:q,colOverscanStartIdx:A,colOverscanEndIdx:C,templateColumns:v,layoutCssVars:w,headerRowsCount:u,lastFrozenColumnIndex:r,totalFrozenColumnWidth:x}}({rawColumns:m,defaultColumnOptions:Y,getColumnWidth:bb,scrollLeft:aU,viewportWidth:bd,enableVirtualization:aQ}),bp=o?.length??0,bq=r?.length??0,br=bp+bq,bs=bj+bp,bt=bj-1,bu=-bs,bv=bu+bt,bw=n.length+bq-1,[bx,by]=(0,c.useState)(()=>({idx:-1,rowIdx:bu-1,mode:"SELECT"})),bz=(0,c.useRef)(null),bA="treegrid"===aH,bB=bj*aJ,bC=br*aK,bD=be-bB-bC,bE=null!=T&&null!=V,{leftKey:bF,rightKey:bG}=k(aR),bH=aD??bj+n.length+br,bI=(0,c.useMemo)(()=>({renderCheckbox:aO,renderSortStatus:aN,renderCell:aM}),[aO,aN,aM]),bJ=(0,c.useMemo)(()=>{let a=!1,b=!1;if(null!=z&&null!=T&&T.size>0){for(let c of n)if(T.has(z(c))?a=!0:b=!0,a&&b)break}return{isRowSelected:a&&!b,isIndeterminate:a&&b}},[n,T,z]),{rowOverscanStartIdx:bK,rowOverscanEndIdx:bL,totalRowHeight:bM,gridTemplateRows:bN,getRowTop:bO,getRowHeight:bP,findRowIdx:bQ}=function({rows:a,rowHeight:b,clientHeight:d,scrollTop:e,enableVirtualization:f}){let{totalRowHeight:g,gridTemplateRows:h,getRowTop:i,getRowHeight:j,findRowIdx:k}=(0,c.useMemo)(()=>{if("number"==typeof b)return{totalRowHeight:b*a.length,gridTemplateRows:` repeat(${a.length}, ${b}px)`,getRowTop:a=>a*b,getRowHeight:()=>b,findRowIdx:a=>u(a/b)};let c=0,d="",e=null,f=0,g=a.map((g,h)=>{let i=b(g),j={top:c,height:i};return c+=i,null===e?(e=i,f=1):e===i?f++:(f>1?d+=`repeat(${f}, ${e}px) `:d+=`${e}px `,e=i,f=1),h===a.length-1&&(f>1?d+=`repeat(${f}, ${e}px)`:d+=`${e}px`),j}),h=b=>t(0,s(a.length-1,b));return{totalRowHeight:c,gridTemplateRows:d,getRowTop:a=>g[h(a)].top,getRowHeight:a=>g[h(a)].height,findRowIdx(a){let b=0,c=g.length-1;for(;b<=c;){let d=b+u((c-b)/2),e=g[d].top;if(e===a)return d;if(e<a?b=d+1:e>a&&(c=d-1),b>c)return c}return 0}}},[b,a]),l=0,m=a.length-1;if(f){let b=k(e),c=k(e+d);l=t(0,b-4),m=s(a.length-1,c+4)}return{rowOverscanStartIdx:l,rowOverscanEndIdx:m,totalRowHeight:g,gridTemplateRows:h,getRowTop:i,getRowHeight:j,findRowIdx:k}}({rows:n,rowHeight:aI,clientHeight:bD,scrollTop:aS,enableVirtualization:aQ}),bR=function({columns:a,colSpanColumns:b,rows:d,topSummaryRows:f,bottomSummaryRows:g,colOverscanStartIdx:h,colOverscanEndIdx:i,lastFrozenColumnIndex:j,rowOverscanStartIdx:k,rowOverscanEndIdx:l}){let m=(0,c.useMemo)(()=>{if(0===h)return 0;let a=h,c=(b,c)=>void 0!==c&&b+c>h&&(a=b,!0);for(let h of b){let b=h.idx;if(b>=a||c(b,e(h,j,{type:"HEADER"})))break;for(let a=k;a<=l&&!c(b,e(h,j,{type:"ROW",row:d[a]}));a++);if(null!=f){for(let a of f)if(c(b,e(h,j,{type:"SUMMARY",row:a})))break}if(null!=g){for(let a of g)if(c(b,e(h,j,{type:"SUMMARY",row:a})))break}}return a},[k,l,d,f,g,h,j,b]);return(0,c.useMemo)(()=>{let b=[];for(let c=0;c<=i;c++){let d=a[c];(!(c<m)||d.frozen)&&b.push(d)}return b},[m,i,a])}({columns:bg,colSpanColumns:bh,colOverscanStartIdx:bk,colOverscanEndIdx:bl,lastFrozenColumnIndex:bi,rowOverscanStartIdx:bK,rowOverscanEndIdx:bL,rows:n,topSummaryRows:o,bottomSummaryRows:r}),{gridTemplateColumns:bS,handleColumnResize:bT}=function(a,b,e,f,g,h,i,j,k){let[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(g),r=a.length===b.length,s=r&&g!==p,t=[...e],u=[];for(let{key:a,idx:c,width:d}of b){let b=h.get(a);a===l?.key?(t[c]="max-content"===l.width?l.width:`${l.width}px`,u.push(a)):"string"==typeof d&&b?.type!=="resized"&&(s||n?.has(a)===!0||void 0===b)&&(t[c]=d,u.push(a))}let v=t.join(" ");return(0,c.useLayoutEffect)(function(){if(q(g),0===u.length)return;let a=new Map(h),b=!1;for(let c of u){let d=L(f,c);b||=d!==h.get(c)?.width,void 0===d?a.delete(c):a.set(c,{type:"measured",width:d})}if(null!==l){let c=l.key,d=h.get(c)?.width,e=L(f,c);void 0!==e&&d!==e&&(b=!0,a.set(c,{type:"resized",width:e})),m(null)}b&&i(a)}),{gridTemplateColumns:v,handleColumnResize:function(a,c){let{key:e}=a;if((0,d.flushSync)(()=>{if(r){let a=new Set;for(let{key:c,width:d}of b)e!==c&&"string"==typeof d&&h.get(c)?.type!=="resized"&&a.add(c);o(a)}m({key:e,width:c}),k("number"==typeof c)}),o(null),j){let b=h.get(e)?.width,d="number"==typeof c?c:L(f,e);void 0!==d&&d!==b&&j(a,d)}}}}(bg,bR,bm,bc,bd,a9,ba,am,aZ),bU=bA?-1:0,bV=bg.length-1,bW=cl(bx),bX=cm(bx),bY=aJ+bM+bC+bf,bZ=M(bT),b$=M(function(){aY&&(S?.(a9),aZ(!1))}),b_=M(an),b0=M(X),b1=M(_),b2=M(ad),b3=M(af),b4=M(ai),b5=M(function(a){if(!V)return;x(z);let b=new Set(T);for(let c of n){if(U?.(c)===!0)continue;let d=z(c);a.checked?b.add(d):b.delete(d)}V(b)}),b6=M(cb),b7=M(cc),b8=M(co),b9=M(function({idx:a,rowIdx:b}){co({rowIdx:bu+b-1,idx:a})}),ca=(0,c.useCallback)((a=!0)=>{let b=ag(bc.current);null!==b&&(a&&g(b),b.focus({preventScroll:!0}))},[bc]);function cb(a){if(!V)return;x(z);let{row:b,checked:c,isShiftClick:d}=a;if(U?.(b)===!0)return;let e=new Set(T),f=z(b),g=n.indexOf(b);if(a7(g),c?e.add(f):e.delete(f),d&&-1!==a6&&a6!==g&&a6<n.length){let a=v(g-a6);for(let b=a6+a;b!==g;b+=a){let a=n[b];U?.(a)!==!0&&(c?e.add(z(a)):e.delete(z(a)))}}V(e)}function cc(a,b,c){"function"!=typeof E||c!==n[b]&&E(n.with(b,c),{indexes:[b],column:a})}function cd(){"EDIT"===bx.mode&&cc(bg[bx.idx],bx.rowIdx,bx.row)}function ce(a){a.preventDefault(),("mouse"!==a.pointerType||1===a.buttons)&&(a_(!0),a.currentTarget.setPointerCapture(a.pointerId))}function cf(a){let b=bc.current,c=bQ(aS-(bB+bp*aK)+a.clientY-b.getBoundingClientRect().top);a1(c);let d=bs+c+1;g(b.querySelector(`:scope > [aria-rowindex="${d}"] > [aria-colindex="${bx.idx+1}"]`))}function cg(){if(a_(!1),void 0===a0)return;let{rowIdx:a}=bx,[b,c]=a<a0?[a+1,a0+1]:[a0,a];cj(b,c),a1(void 0)}function ch(){ca(!1)}function ci(a){a.stopPropagation(),cj(bx.rowIdx+1,n.length)}function cj(a,b){if(null==E)return;let{rowIdx:c,idx:d}=bx,e=bg[d],f=n[c],g=[...n],h=[];for(let c=a;c<b;c++)if(cn({rowIdx:c,idx:d})){let a=ao({columnKey:e.key,sourceRow:f,targetRow:n[c]});a!==n[c]&&(g[c]=a,h.push(c))}h.length>0&&E(g,{indexes:h,column:e})}(0,c.useLayoutEffect)(()=>{a4&&(null!==bz.current&&-1===bx.idx?(bz.current.focus({preventScroll:!0}),g(bz.current)):ca(),a5(!1))},[a4,ca,bx.idx]),(0,c.useImperativeHandle)(f,()=>({element:bc.current,scrollToCell({idx:a,rowIdx:b}){let c=void 0!==a&&a>bi&&a<bg.length?a:void 0,d=void 0!==b&&ck(b)?b:void 0;(void 0!==c||void 0!==d)&&a3({idx:c,rowIdx:d})},selectCell:co}));function ck(a){return a>=0&&a<n.length}function cl({idx:a,rowIdx:b}){var c;return b>=bu&&b<=bw&&(c=a)>=bU&&c<=bV}function cm({idx:a,rowIdx:b}){var c;return ck(b)&&(c=a)>=bU&&c<=bV}function cn(a){return function({idx:a,rowIdx:b}){return ck(b)&&a>=0&&a<=bV}(a)&&function({selectedPosition:a,columns:b,rows:c}){return l(b[a.idx],c[a.rowIdx])}({columns:bg,rows:n,selectedPosition:a})}function co(a,b){if(!cl(a))return;cd();let c=ah(bx,a);if(b?.enableEditor&&cn(a)){let b=n[a.rowIdx];by({...a,mode:"EDIT",row:b,originalRow:b})}else c?g(ag(bc.current)):(a5(b?.shouldFocusCell===!0),by({...a,mode:"SELECT"}));ak&&!c&&ak({rowIdx:a.rowIdx,row:ck(a.rowIdx)?n[a.rowIdx]:void 0,column:bg[a.idx]})}function cp(a){let{key:b,shiftKey:c}=a,d="NONE";if("Tab"===b){if(function({maxColIdx:a,minRowIdx:b,maxRowIdx:c,selectedPosition:{rowIdx:d,idx:e},shiftKey:f}){return f?0===e&&d===b:e===a&&d===c}({shiftKey:c,maxColIdx:bV,minRowIdx:bu,maxRowIdx:bw,selectedPosition:bx}))return void cd();d="CHANGE_ROW"}a.preventDefault();let f=function(a,b,c){let{idx:d,rowIdx:e}=bx,f=bW&&-1===d;switch(a){case"ArrowUp":return{idx:d,rowIdx:e-1};case"ArrowDown":return{idx:d,rowIdx:e+1};case bF:return{idx:d-1,rowIdx:e};case bG:return{idx:d+1,rowIdx:e};case"Tab":return{idx:d+(c?-1:1),rowIdx:e};case"Home":if(f)return{idx:d,rowIdx:bu};return{idx:0,rowIdx:b?bu:e};case"End":if(f)return{idx:d,rowIdx:bw};return{idx:bV,rowIdx:b?bw:e};case"PageUp":{if(bx.rowIdx===bu)return bx;let a=bO(e)+bP(e)-bD;return{idx:d,rowIdx:a>0?bQ(a):0}}case"PageDown":{if(bx.rowIdx>=n.length)return bx;let a=bO(e)+bD;return{idx:d,rowIdx:a<bM?bQ(a):n.length-1}}default:return bx}}(b,j(a),c);ah(bx,f)||co(function({moveUp:a,moveNext:b,cellNavigationMode:c,columns:d,colSpanColumns:f,rows:g,topSummaryRows:h,bottomSummaryRows:i,minRowIdx:j,mainHeaderRowIdx:k,maxRowIdx:l,currentPosition:{idx:m,rowIdx:n},nextPosition:o,lastFrozenColumnIndex:p,isCellWithinBounds:q}){let{idx:r,rowIdx:s}=o,t=d.length,u=a=>{for(let b of f){let c=b.idx;if(c>r)break;let d=function({rows:a,topSummaryRows:b,bottomSummaryRows:c,rowIdx:d,mainHeaderRowIdx:f,lastFrozenColumnIndex:g,column:h}){let i=b?.length??0;return d===f?e(h,g,{type:"HEADER"}):b&&d>f&&d<=i+f?e(h,g,{type:"SUMMARY",row:b[d+i]}):d>=0&&d<a.length?e(h,g,{type:"ROW",row:a[d]}):c?e(h,g,{type:"SUMMARY",row:c[d-a.length]}):void 0}({rows:g,topSummaryRows:h,bottomSummaryRows:i,rowIdx:s,mainHeaderRowIdx:k,lastFrozenColumnIndex:p,column:b});if(d&&r>c&&r<d+c){r=c+(a?d:0);break}}},v=a=>a.level+k;if(q(o)&&(u(b),s<k&&(()=>{if(b){let a=d[r].parent;for(;void 0!==a;){let b=v(a);if(s===b){r=a.idx+a.colSpan;break}a=a.parent}}else if(a){let a=d[r].parent,b=!1;for(;void 0!==a;){let c=v(a);if(s>=c){r=a.idx,s=c,b=!0;break}a=a.parent}b||(r=m,s=n)}})()),"CHANGE_ROW"===c){let a=r===t,b=-1===r;a?s!==l&&(r=0,s+=1):b&&(s!==j&&(s-=1,r=t-1),u(!1))}if(s<k&&r>-1&&r<t){let a=d[r].parent,b=s;for(s=k;void 0!==a;){let c=v(a);c>=b&&(s=c,r=a.idx),a=a.parent}}return{idx:r,rowIdx:s}}({moveUp:"ArrowUp"===b,moveNext:b===bG||"Tab"===b&&!c,columns:bg,colSpanColumns:bh,rows:n,topSummaryRows:o,bottomSummaryRows:r,minRowIdx:bu,mainHeaderRowIdx:bv,maxRowIdx:bw,lastFrozenColumnIndex:bi,cellNavigationMode:d,currentPosition:bx,nextPosition:f,isCellWithinBounds:cl}),{shouldFocusCell:!0})}function cq(a){let b=-1===bx.idx?void 0:bg[bx.idx];return void 0===b||bx.rowIdx!==a||bR.includes(b)?bR:bx.idx>bl?[...bR,b]:[...bR.slice(0,bi+1),b,...bR.slice(bi+1)]}(bx.idx>bV||bx.rowIdx>bw)&&(by({idx:-1,rowIdx:bu-1,mode:"SELECT"}),a1(void 0)),a8&&aW!==Q&&aX(Q);let cr=`repeat(${bj}, ${aJ}px)`;bp>0&&(cr+=` repeat(${bp}, ${aK}px)`),n.length>0&&(cr+=bN),bq>0&&(cr+=` repeat(${bq}, ${aK}px)`);let cs=-1===bx.idx&&bx.rowIdx!==bu-1;return(0,b.jsxs)("div",{role:aH,"aria-label":az,"aria-labelledby":aA,"aria-description":aB,"aria-describedby":aC,"aria-multiselectable":!!bE||void 0,"aria-colcount":bg.length,"aria-rowcount":bH,tabIndex:-1,className:q("rdg rdg-7-0-0-beta-58-ccd2e5d9",{"rdg-viewport-dragging rdg-7-0-0-beta-58-e9b0e1c9":a$},at),style:{...au,scrollPaddingInlineStart:bx.idx>bi||a2?.idx!==void 0?`${bo}px`:void 0,scrollPaddingBlock:ck(bx.rowIdx)||a2?.rowIdx!==void 0?`${bB+bp*aK}px ${bq*aK}px`:void 0,gridTemplateColumns:bS,gridTemplateRows:cr,"--rdg-header-row-height":`${aJ}px`,"--rdg-scroll-height":`${bY}px`,...bn},dir:aR,ref:bc,onScroll:function(a){let{scrollTop:b,scrollLeft:c}=a.currentTarget;(0,d.flushSync)(()=>{aT(b),aV(w(c))}),al?.(a)},onKeyDown:function(a){let{idx:b,rowIdx:c,mode:d}=bx;if("EDIT"===d)return;if(aj&&ck(c)){let d=n[c],e=h(a);if(aj({mode:"SELECT",row:d,column:bg[b],rowIdx:c,selectCell:co},e),e.isGridDefaultPrevented())return}if(!(a.target instanceof Element))return;let e=null!==a.target.closest(".rdg-cell"),f=bA&&a.target===bz.current;if(e||f)switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":cp(a);break;default:!function(a){var b;if(!bX)return;let c=n[bx.rowIdx],{key:d,shiftKey:e}=a;if(bE&&e&&" "===d){x(z);let b=z(c);cb({row:c,checked:!T.has(b),isShiftClick:!1}),a.preventDefault();return}!cn(bx)||(b=null!=aq,j(a)&&(86!==a.keyCode||b)||i.has(a.key))||by(({idx:a,rowIdx:b})=>({idx:a,rowIdx:b,mode:"EDIT",row:c,originalRow:c}))}(a)}},onCopy:function(a){if(!bX)return;let{idx:b,rowIdx:c}=bx;ap?.({row:n[c],column:bg[b]},a)},onPaste:function(a){if(!aq||!E||!cn(bx))return;let{idx:b,rowIdx:c}=bx,d=bg[b];cc(d,c,aq({row:n[c],column:d},a))},"data-testid":aE,"data-cy":aF,children:[(0,b.jsxs)(C,{value:bI,children:[(0,b.jsx)(H,{value:b5,children:(0,b.jsxs)(G,{value:bJ,children:[Array.from({length:bt},(a,c)=>(0,b.jsx)($,{rowIdx:c+1,level:-bt+c,columns:cq(bu+c),selectedCellIdx:bx.rowIdx===bu+c?bx.idx:void 0,selectCell:b9},c)),(0,b.jsx)(Z,{headerRowClass:aw,rowIdx:bj,columns:cq(bv),onColumnResize:bZ,onColumnResizeEnd:b$,onColumnsReorder:b_,sortColumns:W,onSortColumnsChange:b0,lastFrozenColumnIndex:bi,selectedCellIdx:bx.rowIdx===bv?bx.idx:void 0,selectCell:b9,shouldFocusGrid:!bW,direction:aR})]})}),0===n.length&&aP?aP:(0,b.jsxs)(b.Fragment,{children:[o?.map((a,c)=>{let d=bj+1+c,e=bv+1+c,f=bx.rowIdx===e;return(0,b.jsx)(ae,{"aria-rowindex":d,rowIdx:e,gridRowStart:d,row:a,top:bB+aK*c,bottom:void 0,viewportColumns:cq(e),lastFrozenColumnIndex:bi,selectedCellIdx:f?bx.idx:void 0,isTop:!0,selectCell:b8},c)}),(0,b.jsx)(F,{value:b6,children:function(){let a=[],{idx:c,rowIdx:f}=bx,g=bX&&f<bK?bK-1:bK,h=bX&&f>bL?bL+1:bL;for(let i=g;i<=h;i++){let g=i===bK-1||i===bL+1,h=g?f:i,j=bR,k=-1===c?void 0:bg[c];void 0!==k&&(j=g?[k]:cq(h));let l=n[h],m=bs+h+1,o=h,p=!1;"function"==typeof z&&(o=z(l),p=T?.has(o)??!1),a.push(aL(o,{"aria-rowindex":bs+h+1,"aria-selected":bE?p:void 0,rowIdx:h,row:l,viewportColumns:j,isRowSelectionDisabled:U?.(l)??!1,isRowSelected:p,onCellMouseDown:b1,onCellClick:b2,onCellDoubleClick:b3,onCellContextMenu:b4,rowClass:av,gridRowStart:m,selectedCellIdx:f===h?c:void 0,draggedOverCellIdx:function(a){if(void 0===a0)return;let{rowIdx:b}=bx;return(b<a0?b<a&&a<=a0:b>a&&a>=a0)?bx.idx:void 0}(h),lastFrozenColumnIndex:bi,onRowChange:b7,selectCell:b8,selectedCellEditor:function(a){if(!cm(bx)||bx.rowIdx!==a||"SELECT"===bx.mode)return;let{idx:c,row:f}=bx,g=bg[c],h=e(g,bi,{type:"ROW",row:f}),i=g.editorOptions?.closeOnExternalRowChange??!0,j=a=>{a5(a),by(({idx:a,rowIdx:b})=>({idx:a,rowIdx:b,mode:"SELECT"}))};return i&&n[bx.rowIdx]!==bx.originalRow&&j(!1),(0,b.jsx)(R,{column:g,colSpan:h,row:f,rowIdx:a,onRowChange:(a,b,c)=>{b?(0,d.flushSync)(()=>{cc(g,bx.rowIdx,a),j(c)}):by(b=>({...b,row:a}))},closeEditor:j,onKeyDown:aj,navigate:cp},g.key)}(h)}))}return a}()}),r?.map((a,c)=>{let d=bs+n.length+c+1,e=n.length+c,f=bx.rowIdx===e,g=bD>bM?be-aK*(r.length-c):void 0,h=void 0===g?aK*(r.length-1-c):void 0;return(0,b.jsx)(ae,{"aria-rowindex":bH-bq+c+1,rowIdx:e,gridRowStart:d,row:a,top:g,bottom:h,viewportColumns:cq(e),lastFrozenColumnIndex:bi,selectedCellIdx:f?bx.idx:void 0,isTop:!1,selectCell:b8},c)})]})]}),function(){if(null==ao||"EDIT"===bx.mode||!cm(bx))return;let{idx:a,rowIdx:c}=bx,d=bg[a];if(null==d.renderEditCell||!1===d.editable)return;let e=c===bw,f=bb(d),g=d.colSpan?.({type:"ROW",row:n[c]})??1,{insetInlineStart:h,...i}=p(d,g),j="calc(var(--rdg-drag-handle-size) * -0.5 + 1px)",k=d.idx+g-1===bV;return(0,b.jsx)("div",{style:{...i,gridRowStart:bs+c+1,marginInlineEnd:k?void 0:j,marginBlockEnd:e?void 0:j,insetInlineStart:h?`calc(${h} + ${f}px + var(--rdg-drag-handle-size) * -0.5 - 1px)`:void 0},className:q("rdg-cell-drag-handle rdg-7-0-0-beta-58-bfba19bc",d.frozen&&"rdg-7-0-0-beta-58-7abddb3e"),onPointerDown:ce,onPointerMove:a$?cf:void 0,onLostPointerCapture:a$?cg:void 0,onClick:ch,onDoubleClick:ci})}(),bR.map(({key:a,idx:c,minWidth:d,maxWidth:e})=>(0,b.jsx)("div",{className:"rdg-7-0-0-beta-58-fa71d63e",style:{gridColumnStart:c+1,minWidth:d,maxWidth:e},"data-measuring-cell-key":a},a)),bA&&(0,b.jsx)("div",{ref:bz,tabIndex:cs?0:-1,className:q("rdg-7-0-0-beta-58-dbb8b3c5",{"rdg-7-0-0-beta-58-e9f55541":!ck(bx.rowIdx),"rdg-7-0-0-beta-58-3fe773c3":cs,"rdg-7-0-0-beta-58-97ce3fde":cs&&-1!==bi}),style:{gridRowStart:bx.rowIdx+bs+1}}),null!==a2&&(0,b.jsx)(ab,{scrollToPosition:a2,setScrollToCellPosition:a3,gridRef:bc})]})}function ag(a){return a.querySelector(':scope > [role="row"] > [tabindex="0"]')}function ah(a,b){return a.idx===b.idx&&a.rowIdx===b.rowIdx}var ai=(0,c.memo)(function({id:a,groupKey:c,childRows:d,isExpanded:e,isCellSelected:f,column:g,row:h,groupColumnIndex:i,isGroupByColumn:j,toggleGroup:k}){let{tabIndex:l,childTabIndex:m,onFocus:n}=N(f);function o(){k(a)}let q=j&&i===g.idx;return(0,b.jsx)("div",{role:"gridcell","aria-colindex":g.idx+1,"aria-selected":f,tabIndex:l,className:r(g),style:{...p(g),cursor:q?"pointer":"default"},onMouseDown:a=>{a.preventDefault()},onClick:q?o:void 0,onFocus:n,children:(!j||q)&&g.renderGroupCell?.({groupKey:c,childRows:d,column:g,row:h,isExpanded:e,tabIndex:m,toggleGroup:o})},g.key)});(0,c.memo)(function({className:a,row:d,rowIdx:e,viewportColumns:f,selectedCellIdx:g,isRowSelected:h,selectCell:i,gridRowStart:j,groupBy:k,toggleGroup:l,isRowSelectionDisabled:m,...o}){let p=f[0].key===I?d.level+1:d.level;return(0,b.jsx)(E,{value:(0,c.useMemo)(()=>({isRowSelectionDisabled:!1,isRowSelected:h}),[h]),children:(0,b.jsx)("div",{role:"row","aria-level":d.level+1,"aria-setsize":d.setSize,"aria-posinset":d.posInSet+1,"aria-expanded":d.isExpanded,className:q(W,"rdg-group-row rdg-7-0-0-beta-58-e74a2be3",`rdg-row-${e%2==0?"even":"odd"}`,-1===g&&X,a),onMouseDown:function(){i({rowIdx:e,idx:-1},{shouldFocusCell:!0})},style:n(j),...o,children:f.map(a=>(0,b.jsx)(ai,{id:d.id,groupKey:d.groupKey,childRows:d.childRows,isExpanded:d.isExpanded,isCellSelected:g===a.idx,column:a,row:d,groupColumnIndex:p,toggleGroup:l,isGroupByColumn:k.includes(a.key)},a.key))})})});var aj=a.i(19721),ak=a.i(50944),al=a.i(7291),am=a.i(57431),an=a.i(77924),ao=a.i(58042),ap=a.i(94222),aq=a.i(54419),ar=a.i(59854),as=a.i(2274),at=a.i(48662),au=a.i(63787);let av=(0,aj.default)(async()=>{},{loadableGenerated:{modules:[5648]},ssr:!1});function aw(){let a=(0,ak.useRouter)(),[d,e]=(0,c.useState)(null),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)("Battery Test Project");(0,c.useEffect)(()=>{},[]);let[l,m]=(0,c.useState)(!0);async function n(){try{let{data:a,error:b}=await al.supabase.from("master_schedule").select("*").order("id",{ascending:!0});if(b){console.error("loadRows error:",b),g([]),i([]);return}let c=a||[];g(c),i(c.map(a=>({name:a.description||"-",Plan:Number(a.plan_progress||0),Actual:Number(a.actual_progress||0)})))}catch(a){console.error("loadRows exception:",a),g([]),i([])}}async function o(a,{indexes:b}){g(a);let c=b?.[0],d="number"==typeof c?a[c]:null;if(d&&d.id)try{let a={description:d.description,week_date:d.week_date,weight:d.weight,plan_progress:d.plan_progress,actual_progress:d.actual_progress,color:d.color,updated_at:new Date().toISOString()},{error:b}=await al.supabase.from("master_schedule").update(a).eq("id",d.id);b&&console.error("update error:",b)}catch(a){console.error("update exception:",a)}}(0,c.useEffect)(()=>{(async()=>{let{data:b}=await al.supabase.auth.getSession();b?.session?(e(b.session.user),await n(),m(!1)):a.push("/")})();let b=al.supabase.channel("realtime:master_schedule");return b.on("postgres_changes",{event:"*",schema:"public",table:"master_schedule"},()=>n()).subscribe(),()=>{try{al.supabase.removeChannel(b)}catch(a){}}},[a]);let p=Array.from({length:1e3},(a,b)=>(b+1)/10),q=["merah","kuning","hijau"],r=[{key:"id",name:"No",width:60},{key:"description",name:"Kegiatan",editable:!0,resizable:!0},{key:"week_date",name:"Tanggal / Minggu",editable:!0,width:150},{key:"weight",name:"Bobot (%)",editable:!0,width:120,editor:({row:a,onRowChange:c})=>(0,b.jsxs)("select",{value:a.weight??"",onChange:b=>c({...a,weight:b.target.value?Number(b.target.value):null}),className:"border px-1",children:[(0,b.jsx)("option",{value:"",children:"-"}),p.map(a=>(0,b.jsxs)("option",{value:a,children:[a.toFixed(1),"%"]},a))]})},{key:"plan_progress",name:"Target (%)",editable:!0,width:120},{key:"actual_progress",name:"Realisasi (%)",editable:!0,width:120},{key:"color",name:"Warna",editable:!0,width:120,editor:({row:a,onRowChange:c})=>(0,b.jsxs)("select",{value:a.color??"",onChange:b=>c({...a,color:b.target.value}),className:"border px-1",children:[(0,b.jsx)("option",{value:"",children:"-"}),q.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})}],s={lat:Number("-6.200000"),lng:Number("106.816666")};return l?(0,b.jsx)("div",{className:"p-6 text-center text-gray-600",children:"Memuat Master Schedule..."}):(0,b.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen space-y-6",children:[(0,b.jsxs)("header",{className:"flex justify-between items-center bg-blue-800 text-white p-4 rounded-md shadow",children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold",children:["ðŸ“ Silver Dashboard â€” ",j]}),(0,b.jsx)("button",{onClick:async()=>{await (0,au.handleLogout)(),a.push("/")},className:"bg-red-500 hover:bg-red-600 px-4 py-2 rounded text-sm font-medium",children:"Logout"})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded shadow flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-blue-700",children:"PT ELEKTRINDO UTAMA INDONESIA"}),(0,b.jsx)("p",{className:"text-gray-600",children:"MECHANICAL - ELECTRICAL - FIRE PROTECTION"}),(0,b.jsxs)("p",{className:"text-sm mt-2",children:["Project: ",(0,b.jsx)("strong",{children:j})]})]}),(0,b.jsx)("div",{children:(0,b.jsx)("img",{src:"/logo.png",alt:"Logo",width:100,className:"rounded shadow-sm"})})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,b.jsx)("h2",{className:"font-semibold mb-2",children:"ðŸ“‹ Master Schedule â€” Editable (Silver)"}),(0,b.jsx)("div",{style:{height:420},children:(0,b.jsx)(af,{columns:r,rows:f,onRowsChange:o,rowKeyGetter:a=>a.id})})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,b.jsx)("h2",{className:"font-semibold mb-2",children:"ðŸ“ˆ Kurva S (Auto Update)"}),(0,b.jsx)("div",{style:{height:300},children:(0,b.jsx)(at.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(am.LineChart,{data:h,children:[(0,b.jsx)(aq.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(ao.XAxis,{dataKey:"name"}),(0,b.jsx)(ap.YAxis,{}),(0,b.jsx)(ar.Tooltip,{}),(0,b.jsx)(as.Legend,{}),(0,b.jsx)(an.Line,{type:"monotone",dataKey:"Plan",stroke:"#8884d8",dot:!1}),(0,b.jsx)(an.Line,{type:"monotone",dataKey:"Actual",stroke:"#82ca9d",dot:!1})]})})})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,b.jsx)("h2",{className:"font-semibold mb-2",children:"ðŸ“ Lokasi Progress / Pengiriman"}),(0,b.jsx)(av,{center:s})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded shadow flex justify-between mt-8",children:[(0,b.jsxs)("div",{className:"text-center w-1/3",children:[(0,b.jsx)("p",{className:"font-medium",children:"Disusun oleh"}),(0,b.jsx)("div",{className:"mt-16 border-t border-gray-400 mx-6"}),(0,b.jsx)("p",{children:"Silver Engineer"})]}),(0,b.jsxs)("div",{className:"text-center w-1/3",children:[(0,b.jsx)("p",{className:"font-medium",children:"Diperiksa oleh"}),(0,b.jsx)("div",{className:"mt-16 border-t border-gray-400 mx-6"}),(0,b.jsx)("p",{children:"Manager Proyek"})]}),(0,b.jsxs)("div",{className:"text-center w-1/3",children:[(0,b.jsx)("p",{className:"font-medium",children:"Disetujui oleh"}),(0,b.jsx)("div",{className:"mt-16 border-t border-gray-400 mx-6"}),(0,b.jsx)("p",{children:"Direktur"})]})]})]})}a.s(["default",()=>aw,"dynamic",0,"force-dynamic"],30822)}];

//# sourceMappingURL=app_dashboard_silver_page_tsx_f0f5e206._.js.map