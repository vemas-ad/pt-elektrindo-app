(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49124,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),n=e.i(74080);function o(e,t,r){let n="function"==typeof e.colSpan?e.colSpan(r):1;if(Number.isInteger(n)&&n>1&&(!e.frozen||e.idx+n-1<=t))return n}function l(e){e.stopPropagation()}function i(e,t="instant"){e?.scrollIntoView({inline:"nearest",block:"nearest",behavior:t})}function d(e){let t=!1,r={...e,preventGridDefault(){t=!0},isGridDefaultPrevented:()=>t};return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}let a=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function s(e){return(e.ctrlKey||e.metaKey)&&"Control"!==e.key}function u(e){let t="rtl"===e;return{leftKey:t?"ArrowRight":"ArrowLeft",rightKey:t?"ArrowLeft":"ArrowRight"}}function c(e,t){return null!=e.renderEditCell&&("function"==typeof e.editable?e.editable(t):e.editable)!==!1}let f="rdg-cell rdg-7-0-0-beta-58-85c48527";function g(e){return{"--rdg-grid-row-start":e}}function x(e,t,r){let n=t+1,o=`calc(${r-1} * var(--rdg-header-row-height))`;return void 0===e.parent?{insetBlockStart:0,gridRowStart:1,gridRowEnd:n,paddingBlockStart:o}:{insetBlockStart:`calc(${t-r} * var(--rdg-header-row-height))`,gridRowStart:n-r,gridRowEnd:n,paddingBlockStart:o}}function h(e,t=1){let r=e.idx+1;return{gridColumnStart:r,gridColumnEnd:r+t,insetInlineStart:e.frozen?`var(--rdg-frozen-left-${e.idx})`:void 0}}function w(...e){let t="";for(let r of e)if(r){if("string"==typeof r)t+=` ${r}`;else if("object"==typeof r)for(let e in r)r[e]&&(t+=` ${e}`)}return t.trimStart()}function p(e,...t){return w(f,{"rdg-cell-frozen rdg-7-0-0-beta-58-17a9a6d4":e.frozen},...t)}let{min:m,max:v,floor:b,sign:y,abs:C}=Math;function S(e){if("function"!=typeof e)throw Error("Please specify the rowKeyGetter prop to use selection")}function j(e,{minWidth:t,maxWidth:r}){return(e=v(e,t),"number"==typeof r&&r>=t)?m(e,r):e}function k(e,t){return void 0===e.parent?t:e.level-e.parent.level}function I({onChange:e,indeterminate:r,...n}){return(0,t.jsx)("input",{ref:e=>{e&&(e.indeterminate=!0===r)},type:"checkbox",className:"rdg-checkbox-input rdg-7-0-0-beta-58-3b807ead",onChange:function(t){e(t.target.checked,t.nativeEvent.shiftKey)},...n})}function E(e){try{return e.row[e.column.key]}catch{return null}}let R=(0,r.createContext)(void 0);function D(){return(0,r.useContext)(R)}let T=(0,r.createContext)(void 0),N=(0,r.createContext)(void 0),A=(0,r.createContext)(void 0),M=(0,r.createContext)(void 0),P="rdg-select-column";function L({column:e,sortDirection:r,priority:n}){return e.sortable?(0,t.jsx)($,{sortDirection:r,priority:n,children:e.name}):e.name}function $({sortDirection:e,priority:r,children:n}){let o=D().renderSortStatus;return(0,t.jsxs)("span",{className:"rdg-7-0-0-beta-58-56a248e4",children:[(0,t.jsx)("span",{className:"rdg-header-sort-name rdg-7-0-0-beta-58-7fad8c83",children:n}),(0,t.jsx)("span",{children:o({sortDirection:e,priority:r})})]})}function z(e,t){let r=`[data-measuring-cell-key="${CSS.escape(t)}"]`;return e.current?.querySelector(r)?.getBoundingClientRect().width}function F(e){let t=(0,r.useRef)(e);(0,r.useLayoutEffect)(()=>{t.current=e});let n=(0,r.useCallback)((...e)=>{t.current(...e)},[]);return e?n:e}function O(e){let[t,n]=(0,r.useState)(!1);return t&&!e&&n(!1),{tabIndex:e&&!t?0:-1,childTabIndex:e?0:-1,onFocus:e?function(e){if(e.target===e.currentTarget){let t=e.currentTarget.querySelector('[tabindex="0"]');null!==t?(t.focus({preventScroll:!0}),n(!0)):n(!1)}else n(!0)}:void 0}}let K=(0,r.memo)(function({column:e,colSpan:r,isCellSelected:n,isDraggedOver:o,row:l,rowIdx:i,className:a,onMouseDown:s,onCellMouseDown:u,onClick:f,onCellClick:g,onDoubleClick:x,onCellDoubleClick:w,onContextMenu:m,onCellContextMenu:v,onRowChange:b,selectCell:y,style:C,...S}){let{tabIndex:j,childTabIndex:k,onFocus:I}=O(n),{cellClass:E}=e;a=p(e,{"rdg-cell-dragged-over rdg-7-0-0-beta-58-35ccb4c8":o},"function"==typeof E?E(l):E,a);let R=c(e,l);function D(t){y({rowIdx:i,idx:e.idx},{enableEditor:t})}function T(t,r){let n=!1;if(r){let o=d(t);r({rowIdx:i,row:l,column:e,selectCell:D},o),n=o.isGridDefaultPrevented()}return n}return(0,t.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":r,"aria-selected":n,"aria-readonly":!R||void 0,tabIndex:j,className:a,style:{...h(e,r),...C},onClick:function(e){f?.(e),T(e,g)},onMouseDown:function(e){s?.(e),T(e,u)||D()},onDoubleClick:function(e){x?.(e),T(e,w)||D(!0)},onContextMenu:function(e){m?.(e),T(e,v)},onFocus:I,...S,children:e.renderCell({column:e,row:l,rowIdx:i,isCellEditable:R,tabIndex:k,onRowChange:function(t){b(e,t)}})})});function H(e,r){return(0,t.jsx)(K,{...r},e)}let W="object"==typeof scheduler&&"function"==typeof scheduler.postTask;function _({column:e,colSpan:n,row:o,rowIdx:l,onRowChange:i,closeEditor:a,onKeyDown:s,navigate:u}){let c=(0,r.useRef)(void 0),f=(0,r.useRef)(void 0),g=(0,r.useRef)(void 0),x=e.editorOptions?.commitOnOutsideClick??!0,w=(0,r.useEffectEvent)(()=>{v(!0,!1)});function m(){c.current=void 0,void 0!==f.current&&(f.current.abort(),f.current=void 0),void 0!==g.current&&(cancelAnimationFrame(g.current),g.current=void 0)}function v(e=!1,t=!0){e?i(o,!0,t):a(t)}function b(e,t=!1){i(e,t,t)}(0,r.useLayoutEffect)(()=>{if(x)return addEventListener("mousedown",e,{capture:!0}),addEventListener("mousedown",t),()=>{removeEventListener("mousedown",e,{capture:!0}),removeEventListener("mousedown",t),m()};function e(e){if(c.current=e,W){let e=new AbortController,{signal:t}=e;f.current=e,scheduler.postTask(w,{priority:"user-blocking",signal:t}).catch(()=>{})}else g.current=requestAnimationFrame(w)}function t(e){c.current===e&&w()}},[x]);let{cellClass:y}=e,C=p(e,"rdg-editor-container",!e.editorOptions?.displayCellContent&&"rdg-7-0-0-beta-58-46f9ea88","function"==typeof y?y(o):y);return(0,t.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":n,"aria-selected":!0,className:C,style:h(e,n),onKeyDown:function(t){if(s){let r=d(t);if(s({mode:"EDIT",row:o,column:e,rowIdx:l,navigate(){u(t)},onClose:v},r),r.isGridDefaultPrevented())return}"Escape"===t.key?v():"Enter"===t.key?v(!0):function({key:e,target:t}){return!!("Tab"===e&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement))&&t.closest(".rdg-editor-container")?.querySelectorAll("input, textarea, select").length===1}(t)&&u(t)},onMouseDownCapture:m,children:null!=e.renderEditCell&&(0,t.jsxs)(t.Fragment,{children:[e.renderEditCell({column:e,row:o,rowIdx:l,onRowChange:b,onClose:v}),e.editorOptions?.displayCellContent&&e.renderCell({column:e,row:o,rowIdx:l,isCellEditable:!0,tabIndex:-1,onRowChange:b})]})})}function B({column:e,rowIdx:r,isCellSelected:n,selectCell:o}){let{tabIndex:l,onFocus:i}=O(n),{colSpan:d}=e,a=k(e,r),s=e.idx+1;return(0,t.jsx)("div",{role:"columnheader","aria-colindex":s,"aria-colspan":d,"aria-rowspan":a,"aria-selected":n,tabIndex:l,className:w(f,e.headerCellClass),style:{...x(e,r,a),gridColumnStart:s,gridColumnEnd:s+d},onFocus:i,onMouseDown:function(){o({idx:e.idx,rowIdx:r})},children:e.name})}function U({column:e,colSpan:o,rowIdx:l,isCellSelected:i,onColumnResize:d,onColumnResizeEnd:a,onColumnsReorder:c,sortColumns:f,onSortColumnsChange:g,selectCell:w,shouldFocusGrid:m,direction:v,draggedColumnKey:b,setDraggedColumnKey:y}){let C,S,[I,E]=(0,r.useState)(!1),R=(0,r.useRef)(null),D=b===e.key,T=k(e,l),{tabIndex:N,childTabIndex:A,onFocus:M}=O(m||i),P=f?.findIndex(t=>t.columnKey===e.key),L=void 0!==P&&P>-1?f[P]:void 0,$=L?.direction,z=void 0!==L&&f.length>1?P+1:void 0,F=$&&!z?"ASC"===$?"ascending":"descending":void 0,{sortable:K,resizable:H,draggable:W}=e,_=p(e,e.headerCellClass,{"rdg-7-0-0-beta-58-2a7e240d":K,"rdg-cell-resizable rdg-7-0-0-beta-58-1893dc0f":H,"rdg-cell-draggable":W,"rdg-cell-dragging rdg-7-0-0-beta-58-3e1a4ad4":D,"rdg-cell-drag-over rdg-7-0-0-beta-58-51abd8b8":I});function B(t){if(null==g)return;let{sortDescendingFirst:r}=e;if(void 0===L){let n={columnKey:e.key,direction:r?"DESC":"ASC"};g(f&&t?[...f,n]:[n])}else{let n;if((!0===r&&"DESC"===$||!0!==r&&"ASC"===$)&&(n={columnKey:e.key,direction:"ASC"===$?"DESC":"ASC"}),t){let e=[...f];n?e[P]=n:e.splice(P,1),g(e)}else g(n?[n]:[])}}W&&(C={draggable:!0,onDragStart:function(t){(0,n.flushSync)(()=>{y(e.key)}),t.dataTransfer.setDragImage(R.current,0,0),t.dataTransfer.dropEffect="move"},onDragEnd:function(){y(void 0)}},void 0!==b&&b!==e.key&&(S={onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onDragEnter:function(e){q(e)&&E(!0)},onDragLeave:function(e){q(e)&&E(!1)},onDrop:function(t){E(!1),t.preventDefault(),c?.(b,e.key)}}));let U={...x(e,l,T),...h(e,o)},Y=e.renderHeaderCell({column:e,sortDirection:$,priority:z,tabIndex:A});return(0,t.jsxs)(t.Fragment,{children:[D&&(0,t.jsx)("div",{ref:R,style:U,className:p(e,e.headerCellClass,"rdg-7-0-0-beta-58-c8d7aa64"),children:Y}),(0,t.jsxs)("div",{role:"columnheader","aria-colindex":e.idx+1,"aria-colspan":o,"aria-rowspan":T,"aria-selected":i,"aria-sort":F,tabIndex:N,className:_,style:U,onMouseDown:function(){w({idx:e.idx,rowIdx:l})},onFocus:function(e){M?.(e),m&&w({idx:0,rowIdx:l})},onClick:function(e){K&&B(e.ctrlKey||e.metaKey)},onKeyDown:function(t){let{key:r}=t;if(K&&(" "===r||"Enter"===r))t.preventDefault(),B(t.ctrlKey||t.metaKey);else if(H&&s(t)&&("ArrowLeft"===r||"ArrowRight"===r)){t.stopPropagation();let{width:n}=t.currentTarget.getBoundingClientRect(),{leftKey:o}=u(v),l=j(n+(r===o?-10:10),e);l!==n&&d(e,l)}},...C,...S,children:[Y,H&&(0,t.jsx)(G,{direction:v,column:e,onColumnResize:d,onColumnResizeEnd:a})]})]})}function G({direction:e,column:n,onColumnResize:o,onColumnResizeEnd:i}){let d=(0,r.useRef)(void 0),a="rtl"===e;return(0,t.jsx)("div",{"aria-hidden":!0,className:"rdg-resize-handle rdg-7-0-0-beta-58-4e60db91",onClick:l,onPointerDown:function(e){if("mouse"===e.pointerType&&1!==e.buttons)return;e.preventDefault();let{currentTarget:t,pointerId:r}=e;t.setPointerCapture(r);let{right:n,left:o}=t.parentElement.getBoundingClientRect();d.current=a?e.clientX-o:n-e.clientX},onPointerMove:function(e){let t=d.current;if(void 0===t)return;let{width:r,right:l,left:i}=e.currentTarget.parentElement.getBoundingClientRect(),s=a?l+t-e.clientX:e.clientX+t-i;s=j(s,n),r>0&&s!==r&&o(n,s)},onLostPointerCapture:function(){i(),d.current=void 0},onDoubleClick:function(){o(n,"max-content")}})}function q(e){let t=e.relatedTarget;return!e.currentTarget.contains(t)}let Y="rdg-row rdg-7-0-0-beta-58-3c083f1b",X="rdg-row-selected",V="rdg-header-row rdg-7-0-0-beta-58-0dbd5994";var J=(0,r.memo)(function({headerRowClass:e,rowIdx:n,columns:l,onColumnResize:i,onColumnResizeEnd:d,onColumnsReorder:a,sortColumns:s,onSortColumnsChange:u,lastFrozenColumnIndex:c,selectedCellIdx:f,selectCell:g,shouldFocusGrid:x,direction:h}){let[p,m]=(0,r.useState)(),v=[];for(let e=0;e<l.length;e++){let r=l[e],w=o(r,c,{type:"HEADER"});void 0!==w&&(e+=w-1),v.push((0,t.jsx)(U,{column:r,colSpan:w,rowIdx:n,isCellSelected:f===r.idx,onColumnResize:i,onColumnResizeEnd:d,onColumnsReorder:a,onSortColumnsChange:u,sortColumns:s,selectCell:g,shouldFocusGrid:x&&0===e,direction:h,draggedColumnKey:p,setDraggedColumnKey:m},r.key))}return(0,t.jsx)("div",{role:"row","aria-rowindex":n,className:w(V,{[X]:-1===f},e),children:v})}),Q=(0,r.memo)(function({rowIdx:e,level:r,columns:n,selectedCellIdx:o,selectCell:l}){let i=[],d=new Set;for(let a of n){let{parent:n}=a;if(void 0!==n){for(;n.level>r&&void 0!==n.parent;)n=n.parent;if(n.level===r&&!d.has(n)){d.add(n);let{idx:r}=n;i.push((0,t.jsx)(B,{column:n,rowIdx:e,isCellSelected:o===r,selectCell:l},r))}}}return(0,t.jsx)("div",{role:"row","aria-rowindex":e,className:V,children:i})});let Z=(0,r.memo)(function({className:e,rowIdx:n,gridRowStart:l,selectedCellIdx:i,isRowSelectionDisabled:d,isRowSelected:a,draggedOverCellIdx:s,lastFrozenColumnIndex:u,row:c,viewportColumns:f,selectedCellEditor:x,onCellMouseDown:h,onCellClick:p,onCellDoubleClick:m,onCellContextMenu:v,rowClass:b,onRowChange:y,selectCell:C,style:S,...j}){let k=D().renderCell,I=F((e,t)=>{y(e,n,t)});e=w(Y,`rdg-row-${n%2==0?"even":"odd"}`,{[X]:-1===i},b?.(c,n),e);let E=[];for(let e=0;e<f.length;e++){let t=f[e],{idx:r}=t,l=o(t,u,{type:"ROW",row:c});void 0!==l&&(e+=l-1);let d=i===r;d&&x?E.push(x):E.push(k(t.key,{column:t,colSpan:l,row:c,rowIdx:n,isDraggedOver:s===r,isCellSelected:d,onCellMouseDown:h,onCellClick:p,onCellDoubleClick:m,onCellContextMenu:v,onRowChange:I,selectCell:C}))}return(0,t.jsx)(T,{value:(0,r.useMemo)(()=>({isRowSelected:a,isRowSelectionDisabled:d}),[d,a]),children:(0,t.jsx)("div",{role:"row",className:e,style:{...g(l),...S},...j,children:E})})});function ee(e,r){return(0,t.jsx)(Z,{...r},e)}function et({scrollToPosition:{idx:e,rowIdx:n},gridRef:o,setScrollToCellPosition:l}){let d=(0,r.useRef)(null);return(0,r.useLayoutEffect)(()=>{i(d.current,"auto")}),(0,r.useLayoutEffect)(()=>{let e=new IntersectionObserver(function(){l(null)},{root:o.current,threshold:1});return e.observe(d.current),()=>{e.disconnect()}},[o,l]),(0,t.jsx)("div",{ref:d,style:{gridColumn:void 0===e?"1/-1":e+1,gridRow:void 0===n?"1/-1":n+2}})}function er({sortDirection:e,priority:r}){return(0,t.jsxs)(t.Fragment,{children:[function({sortDirection:e}){return void 0===e?null:(0,t.jsx)("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:"rdg-sort-arrow rdg-7-0-0-beta-58-3d5115f3","aria-hidden":!0,children:(0,t.jsx)("path",{d:"ASC"===e?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})})}({sortDirection:e}),function({priority:e}){return e}({priority:r})]})}var en=(0,r.memo)(function({column:e,colSpan:r,row:n,rowIdx:o,isCellSelected:l,selectCell:i}){let{tabIndex:d,childTabIndex:a,onFocus:s}=O(l),{summaryCellClass:u}=e,c=p(e,"rdg-7-0-0-beta-58-d907aa87","function"==typeof u?u(n):u);return(0,t.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":r,"aria-selected":l,tabIndex:d,className:c,style:h(e,r),onMouseDown:function(){i({rowIdx:o,idx:e.idx})},onFocus:s,children:e.renderSummaryCell?.({column:e,row:n,tabIndex:a})})}),eo=(0,r.memo)(function({rowIdx:e,gridRowStart:r,row:n,viewportColumns:l,top:i,bottom:d,lastFrozenColumnIndex:a,selectedCellIdx:s,isTop:u,selectCell:c,"aria-rowindex":f}){let x=[];for(let r=0;r<l.length;r++){let i=l[r],d=o(i,a,{type:"SUMMARY",row:n});void 0!==d&&(r+=d-1);let u=s===i.idx;x.push((0,t.jsx)(en,{column:i,colSpan:d,row:n,rowIdx:e,isCellSelected:u,selectCell:c},i.key))}return(0,t.jsx)("div",{role:"row","aria-rowindex":f,className:w(Y,`rdg-row-${e%2==0?"even":"odd"}`,"rdg-summary-row rdg-7-0-0-beta-58-0b90c82c",{[X]:-1===s,"rdg-top-summary-row rdg-7-0-0-beta-58-d0520eab":u,"rdg-bottom-summary-row":!u}),style:{...g(r),"--rdg-summary-row-top":void 0!==i?`${i}px`:void 0,"--rdg-summary-row-bottom":void 0!==d?`${d}px`:void 0},children:x})});function el(e){let{ref:l,columns:f,rows:g,topSummaryRows:x,bottomSummaryRows:p,rowKeyGetter:k,onRowsChange:T,rowHeight:$,headerRowHeight:O,summaryRowHeight:K,columnWidths:W,onColumnWidthsChange:B,selectedRows:U,isRowSelectionDisabled:G,onSelectedRowsChange:q,sortColumns:Y,onSortColumnsChange:X,defaultColumnOptions:V,onCellMouseDown:Z,onCellClick:en,onCellDoubleClick:el,onCellContextMenu:ea,onCellKeyDown:es,onSelectedCellChange:eu,onScroll:ec,onColumnResize:ef,onColumnsReorder:eg,onFill:ex,onCellCopy:eh,onCellPaste:ew,enableVirtualization:ep,renderers:em,className:ev,style:eb,rowClass:ey,headerRowClass:eC,direction:eS,role:ej,"aria-label":ek,"aria-labelledby":eI,"aria-description":eE,"aria-describedby":eR,"aria-rowcount":eD,"data-testid":eT,"data-cy":eN}=e,eA=D(),eM=ej??"grid",eP=$??35,eL=O??("number"==typeof eP?eP:35),e$=K??("number"==typeof eP?eP:35),ez=em?.renderRow??eA?.renderRow??ee,eF=em?.renderCell??eA?.renderCell??H,eO=em?.renderSortStatus??eA?.renderSortStatus??er,eK=em?.renderCheckbox??eA?.renderCheckbox??I,eH=em?.noRowsFallback??eA?.noRowsFallback,eW=ep??!0,e_=eS??"ltr",[eB,eU]=(0,r.useState)(0),[eG,eq]=(0,r.useState)(0),[eY,eX]=(0,r.useState)(()=>W??new Map),[eV,eJ]=(0,r.useState)(!1),[eQ,eZ]=(0,r.useState)(!1),[e0,e1]=(0,r.useState)(void 0),[e5,e8]=(0,r.useState)(null),[e7,e2]=(0,r.useState)(!1),[e4,e6]=(0,r.useState)(-1),e3=null!=W&&null!=B&&!eV,e9=e3?W:eY,te=e3?e=>{eX(e),B(e)}:eX,tt=(0,r.useCallback)(e=>e9.get(e.key)?.width??e.width,[e9]),[tr,tn,to,tl]=function(){let e=(0,r.useRef)(null),[t,o]=(0,r.useState)(1),[l,i]=(0,r.useState)(1),[d,a]=(0,r.useState)(0);return(0,r.useLayoutEffect)(()=>{let{ResizeObserver:t}=window;if(null==t)return;let{clientWidth:r,clientHeight:l,offsetWidth:d,offsetHeight:s}=e.current,{width:u,height:c}=e.current.getBoundingClientRect(),f=s-l;o(u-d+r),i(c-f),a(f);let g=new t(t=>{let r=t[0].contentBoxSize[0],{clientHeight:l,offsetHeight:d}=e.current;(0,n.flushSync)(()=>{o(r.inlineSize),i(r.blockSize),a(d-l)})});return g.observe(e.current),()=>{g.disconnect()}},[]),[e,t,l,d]}(),{columns:ti,colSpanColumns:td,lastFrozenColumnIndex:ta,headerRowsCount:ts,colOverscanStartIdx:tu,colOverscanEndIdx:tc,templateColumns:tf,layoutCssVars:tg,totalFrozenColumnWidth:tx}=function({rawColumns:e,defaultColumnOptions:t,getColumnWidth:n,viewportWidth:o,scrollLeft:l,enableVirtualization:i}){let d=t?.width??"auto",a=t?.minWidth??50,s=t?.maxWidth??void 0,u=t?.renderCell??E,c=t?.renderHeaderCell??L,f=t?.sortable??!1,g=t?.resizable??!1,x=t?.draggable??!1,{columns:h,colSpanColumns:w,lastFrozenColumnIndex:p,headerRowsCount:b}=(0,r.useMemo)(()=>{let t=-1,r=1,n=[];!function e(o,l,i){for(let h of o){if("children"in h){let t={name:h.name,parent:i,idx:-1,colSpan:0,level:0,headerCellClass:h.headerCellClass};e(h.children,l+1,t);continue}let o=h.frozen??!1,w={...h,parent:i,idx:0,level:0,frozen:o,width:h.width??d,minWidth:h.minWidth??a,maxWidth:h.maxWidth??s,sortable:h.sortable??f,resizable:h.resizable??g,draggable:h.draggable??x,renderCell:h.renderCell??u,renderHeaderCell:h.renderHeaderCell??c};n.push(w),o&&t++,l>r&&(r=l)}}(e,1),n.sort(({key:e,frozen:t},{key:r,frozen:n})=>e===P?-1:r===P?1:t?n?0:-1:+!!n);let o=[];return n.forEach((e,t)=>{e.idx=t,function e(t,r,n){if(n<t.level&&(t.level=n),void 0!==t.parent){let{parent:o}=t;-1===o.idx&&(o.idx=r),o.colSpan+=1,e(o,r,n-1)}}(e,t,0),null!=e.colSpan&&o.push(e)}),{columns:n,colSpanColumns:o,lastFrozenColumnIndex:t,headerRowsCount:r}},[e,d,a,s,u,c,g,f,x]),{templateColumns:y,layoutCssVars:C,totalFrozenColumnWidth:S,columnMetrics:k}=(0,r.useMemo)(()=>{let e=new Map,t=0,r=0,o=[];for(let r of h){let l=n(r);l="number"==typeof l?j(l,r):r.minWidth,o.push(`${l}px`),e.set(r,{width:l,left:t}),t+=l}if(-1!==p){let t=e.get(h[p]);r=t.left+t.width}let l={};for(let t=0;t<=p;t++){let r=h[t];l[`--rdg-frozen-left-${r.idx}`]=`${e.get(r).left}px`}return{templateColumns:o,layoutCssVars:l,totalFrozenColumnWidth:r,columnMetrics:e}},[n,h,p]),[I,R]=(0,r.useMemo)(()=>{if(!i)return[0,h.length-1];let e=l+S,t=l+o,r=h.length-1,n=m(p+1,r);if(e>=t)return[n,n];let d=n;for(;d<r;){let{left:t,width:r}=k.get(h[d]);if(t+r>e)break;d++}let a=d;for(;a<r;){let{left:e,width:r}=k.get(h[a]);if(e+r>=t)break;a++}return[v(n,d-1),m(r,a+1)]},[k,h,p,l,S,o,i]);return{columns:h,colSpanColumns:w,colOverscanStartIdx:I,colOverscanEndIdx:R,templateColumns:y,layoutCssVars:C,headerRowsCount:b,lastFrozenColumnIndex:p,totalFrozenColumnWidth:S}}({rawColumns:f,defaultColumnOptions:V,getColumnWidth:tt,scrollLeft:eG,viewportWidth:tn,enableVirtualization:eW}),th=x?.length??0,tw=p?.length??0,tp=th+tw,tm=ts+th,tv=ts-1,tb=-tm,ty=tb+tv,tC=g.length+tw-1,[tS,tj]=(0,r.useState)(()=>({idx:-1,rowIdx:tb-1,mode:"SELECT"})),tk=(0,r.useRef)(null),tI="treegrid"===eM,tE=ts*eL,tR=tp*e$,tD=to-tE-tR,tT=null!=U&&null!=q,{leftKey:tN,rightKey:tA}=u(e_),tM=eD??ts+g.length+tp,tP=(0,r.useMemo)(()=>({renderCheckbox:eK,renderSortStatus:eO,renderCell:eF}),[eK,eO,eF]),tL=(0,r.useMemo)(()=>{let e=!1,t=!1;if(null!=k&&null!=U&&U.size>0){for(let r of g)if(U.has(k(r))?e=!0:t=!0,e&&t)break}return{isRowSelected:e&&!t,isIndeterminate:e&&t}},[g,U,k]),{rowOverscanStartIdx:t$,rowOverscanEndIdx:tz,totalRowHeight:tF,gridTemplateRows:tO,getRowTop:tK,getRowHeight:tH,findRowIdx:tW}=function({rows:e,rowHeight:t,clientHeight:n,scrollTop:o,enableVirtualization:l}){let{totalRowHeight:i,gridTemplateRows:d,getRowTop:a,getRowHeight:s,findRowIdx:u}=(0,r.useMemo)(()=>{if("number"==typeof t)return{totalRowHeight:t*e.length,gridTemplateRows:` repeat(${e.length}, ${t}px)`,getRowTop:e=>e*t,getRowHeight:()=>t,findRowIdx:e=>b(e/t)};let r=0,n="",o=null,l=0,i=e.map((i,d)=>{let a=t(i),s={top:r,height:a};return r+=a,null===o?(o=a,l=1):o===a?l++:(l>1?n+=`repeat(${l}, ${o}px) `:n+=`${o}px `,o=a,l=1),d===e.length-1&&(l>1?n+=`repeat(${l}, ${o}px)`:n+=`${o}px`),s}),d=t=>v(0,m(e.length-1,t));return{totalRowHeight:r,gridTemplateRows:n,getRowTop:e=>i[d(e)].top,getRowHeight:e=>i[d(e)].height,findRowIdx(e){let t=0,r=i.length-1;for(;t<=r;){let n=t+b((r-t)/2),o=i[n].top;if(o===e)return n;if(o<e?t=n+1:o>e&&(r=n-1),t>r)return r}return 0}}},[t,e]),c=0,f=e.length-1;if(l){let t=u(o),r=u(o+n);c=v(0,t-4),f=m(e.length-1,r+4)}return{rowOverscanStartIdx:c,rowOverscanEndIdx:f,totalRowHeight:i,gridTemplateRows:d,getRowTop:a,getRowHeight:s,findRowIdx:u}}({rows:g,rowHeight:eP,clientHeight:tD,scrollTop:eB,enableVirtualization:eW}),t_=function({columns:e,colSpanColumns:t,rows:n,topSummaryRows:l,bottomSummaryRows:i,colOverscanStartIdx:d,colOverscanEndIdx:a,lastFrozenColumnIndex:s,rowOverscanStartIdx:u,rowOverscanEndIdx:c}){let f=(0,r.useMemo)(()=>{if(0===d)return 0;let e=d,r=(t,r)=>void 0!==r&&t+r>d&&(e=t,!0);for(let d of t){let t=d.idx;if(t>=e||r(t,o(d,s,{type:"HEADER"})))break;for(let e=u;e<=c&&!r(t,o(d,s,{type:"ROW",row:n[e]}));e++);if(null!=l){for(let e of l)if(r(t,o(d,s,{type:"SUMMARY",row:e})))break}if(null!=i){for(let e of i)if(r(t,o(d,s,{type:"SUMMARY",row:e})))break}}return e},[u,c,n,l,i,d,s,t]);return(0,r.useMemo)(()=>{let t=[];for(let r=0;r<=a;r++){let n=e[r];(!(r<f)||n.frozen)&&t.push(n)}return t},[f,a,e])}({columns:ti,colSpanColumns:td,colOverscanStartIdx:tu,colOverscanEndIdx:tc,lastFrozenColumnIndex:ta,rowOverscanStartIdx:t$,rowOverscanEndIdx:tz,rows:g,topSummaryRows:x,bottomSummaryRows:p}),{gridTemplateColumns:tB,handleColumnResize:tU}=function(e,t,o,l,i,d,a,s,u){let[c,f]=(0,r.useState)(null),[g,x]=(0,r.useState)(null),[h,w]=(0,r.useState)(i),p=e.length===t.length,m=p&&i!==h,v=[...o],b=[];for(let{key:e,idx:r,width:n}of t){let t=d.get(e);e===c?.key?(v[r]="max-content"===c.width?c.width:`${c.width}px`,b.push(e)):"string"==typeof n&&t?.type!=="resized"&&(m||g?.has(e)===!0||void 0===t)&&(v[r]=n,b.push(e))}let y=v.join(" ");return(0,r.useLayoutEffect)(function(){if(w(i),0===b.length)return;let e=new Map(d),t=!1;for(let r of b){let n=z(l,r);t||=n!==d.get(r)?.width,void 0===n?e.delete(r):e.set(r,{type:"measured",width:n})}if(null!==c){let r=c.key,n=d.get(r)?.width,o=z(l,r);void 0!==o&&n!==o&&(t=!0,e.set(r,{type:"resized",width:o})),f(null)}t&&a(e)}),{gridTemplateColumns:y,handleColumnResize:function(e,r){let{key:o}=e;if((0,n.flushSync)(()=>{if(p){let e=new Set;for(let{key:r,width:n}of t)o!==r&&"string"==typeof n&&d.get(r)?.type!=="resized"&&e.add(r);x(e)}f({key:o,width:r}),u("number"==typeof r)}),x(null),s){let t=d.get(o)?.width,n="number"==typeof r?r:z(l,o);void 0!==n&&n!==t&&s(e,n)}}}}(ti,t_,tf,tr,tn,e9,te,ef,eJ),tG=tI?-1:0,tq=ti.length-1,tY=rc(tS),tX=rf(tS),tV=eL+tF+tR+tl,tJ=F(tU),tQ=F(function(){eV&&(B?.(e9),eJ(!1))}),tZ=F(eg),t0=F(X),t1=F(Z),t5=F(en),t8=F(el),t7=F(ea),t2=F(function(e){if(!q)return;S(k);let t=new Set(U);for(let r of g){if(G?.(r)===!0)continue;let n=k(r);e.checked?t.add(n):t.delete(n)}q(t)}),t4=F(rt),t6=F(rr),t3=F(rx),t9=F(function({idx:e,rowIdx:t}){rx({rowIdx:tb+t-1,idx:e})}),re=(0,r.useCallback)((e=!0)=>{let t=ei(tr.current);null!==t&&(e&&i(t),t.focus({preventScroll:!0}))},[tr]);function rt(e){if(!q)return;S(k);let{row:t,checked:r,isShiftClick:n}=e;if(G?.(t)===!0)return;let o=new Set(U),l=k(t),i=g.indexOf(t);if(e6(i),r?o.add(l):o.delete(l),n&&-1!==e4&&e4!==i&&e4<g.length){let e=y(i-e4);for(let t=e4+e;t!==i;t+=e){let e=g[t];G?.(e)!==!0&&(r?o.add(k(e)):o.delete(k(e)))}}q(o)}function rr(e,t,r){"function"!=typeof T||r!==g[t]&&T(g.with(t,r),{indexes:[t],column:e})}function rn(){"EDIT"===tS.mode&&rr(ti[tS.idx],tS.rowIdx,tS.row)}function ro(e){e.preventDefault(),("mouse"!==e.pointerType||1===e.buttons)&&(eZ(!0),e.currentTarget.setPointerCapture(e.pointerId))}function rl(e){let t=tr.current,r=tW(eB-(tE+th*e$)+e.clientY-t.getBoundingClientRect().top);e1(r);let n=tm+r+1;i(t.querySelector(`:scope > [aria-rowindex="${n}"] > [aria-colindex="${tS.idx+1}"]`))}function ri(){if(eZ(!1),void 0===e0)return;let{rowIdx:e}=tS,[t,r]=e<e0?[e+1,e0+1]:[e0,e];rs(t,r),e1(void 0)}function rd(){re(!1)}function ra(e){e.stopPropagation(),rs(tS.rowIdx+1,g.length)}function rs(e,t){if(null==T)return;let{rowIdx:r,idx:n}=tS,o=ti[n],l=g[r],i=[...g],d=[];for(let r=e;r<t;r++)if(rg({rowIdx:r,idx:n})){let e=ex({columnKey:o.key,sourceRow:l,targetRow:g[r]});e!==g[r]&&(i[r]=e,d.push(r))}d.length>0&&T(i,{indexes:d,column:o})}(0,r.useLayoutEffect)(()=>{e7&&(null!==tk.current&&-1===tS.idx?(tk.current.focus({preventScroll:!0}),i(tk.current)):re(),e2(!1))},[e7,re,tS.idx]),(0,r.useImperativeHandle)(l,()=>({element:tr.current,scrollToCell({idx:e,rowIdx:t}){let r=void 0!==e&&e>ta&&e<ti.length?e:void 0,n=void 0!==t&&ru(t)?t:void 0;(void 0!==r||void 0!==n)&&e8({idx:r,rowIdx:n})},selectCell:rx}));function ru(e){return e>=0&&e<g.length}function rc({idx:e,rowIdx:t}){var r;return t>=tb&&t<=tC&&(r=e)>=tG&&r<=tq}function rf({idx:e,rowIdx:t}){var r;return ru(t)&&(r=e)>=tG&&r<=tq}function rg(e){return function({idx:e,rowIdx:t}){return ru(t)&&e>=0&&e<=tq}(e)&&function({selectedPosition:e,columns:t,rows:r}){return c(t[e.idx],r[e.rowIdx])}({columns:ti,rows:g,selectedPosition:e})}function rx(e,t){if(!rc(e))return;rn();let r=ed(tS,e);if(t?.enableEditor&&rg(e)){let t=g[e.rowIdx];tj({...e,mode:"EDIT",row:t,originalRow:t})}else r?i(ei(tr.current)):(e2(t?.shouldFocusCell===!0),tj({...e,mode:"SELECT"}));eu&&!r&&eu({rowIdx:e.rowIdx,row:ru(e.rowIdx)?g[e.rowIdx]:void 0,column:ti[e.idx]})}function rh(e){let{key:t,shiftKey:r}=e,n="NONE";if("Tab"===t){if(function({maxColIdx:e,minRowIdx:t,maxRowIdx:r,selectedPosition:{rowIdx:n,idx:o},shiftKey:l}){return l?0===o&&n===t:o===e&&n===r}({shiftKey:r,maxColIdx:tq,minRowIdx:tb,maxRowIdx:tC,selectedPosition:tS}))return void rn();n="CHANGE_ROW"}e.preventDefault();let l=function(e,t,r){let{idx:n,rowIdx:o}=tS,l=tY&&-1===n;switch(e){case"ArrowUp":return{idx:n,rowIdx:o-1};case"ArrowDown":return{idx:n,rowIdx:o+1};case tN:return{idx:n-1,rowIdx:o};case tA:return{idx:n+1,rowIdx:o};case"Tab":return{idx:n+(r?-1:1),rowIdx:o};case"Home":if(l)return{idx:n,rowIdx:tb};return{idx:0,rowIdx:t?tb:o};case"End":if(l)return{idx:n,rowIdx:tC};return{idx:tq,rowIdx:t?tC:o};case"PageUp":{if(tS.rowIdx===tb)return tS;let e=tK(o)+tH(o)-tD;return{idx:n,rowIdx:e>0?tW(e):0}}case"PageDown":{if(tS.rowIdx>=g.length)return tS;let e=tK(o)+tD;return{idx:n,rowIdx:e<tF?tW(e):g.length-1}}default:return tS}}(t,s(e),r);ed(tS,l)||rx(function({moveUp:e,moveNext:t,cellNavigationMode:r,columns:n,colSpanColumns:l,rows:i,topSummaryRows:d,bottomSummaryRows:a,minRowIdx:s,mainHeaderRowIdx:u,maxRowIdx:c,currentPosition:{idx:f,rowIdx:g},nextPosition:x,lastFrozenColumnIndex:h,isCellWithinBounds:w}){let{idx:p,rowIdx:m}=x,v=n.length,b=e=>{for(let t of l){let r=t.idx;if(r>p)break;let n=function({rows:e,topSummaryRows:t,bottomSummaryRows:r,rowIdx:n,mainHeaderRowIdx:l,lastFrozenColumnIndex:i,column:d}){let a=t?.length??0;return n===l?o(d,i,{type:"HEADER"}):t&&n>l&&n<=a+l?o(d,i,{type:"SUMMARY",row:t[n+a]}):n>=0&&n<e.length?o(d,i,{type:"ROW",row:e[n]}):r?o(d,i,{type:"SUMMARY",row:r[n-e.length]}):void 0}({rows:i,topSummaryRows:d,bottomSummaryRows:a,rowIdx:m,mainHeaderRowIdx:u,lastFrozenColumnIndex:h,column:t});if(n&&p>r&&p<n+r){p=r+(e?n:0);break}}},y=e=>e.level+u;if(w(x)&&(b(t),m<u&&(()=>{if(t){let e=n[p].parent;for(;void 0!==e;){let t=y(e);if(m===t){p=e.idx+e.colSpan;break}e=e.parent}}else if(e){let e=n[p].parent,t=!1;for(;void 0!==e;){let r=y(e);if(m>=r){p=e.idx,m=r,t=!0;break}e=e.parent}t||(p=f,m=g)}})()),"CHANGE_ROW"===r){let e=p===v,t=-1===p;e?m!==c&&(p=0,m+=1):t&&(m!==s&&(m-=1,p=v-1),b(!1))}if(m<u&&p>-1&&p<v){let e=n[p].parent,t=m;for(m=u;void 0!==e;){let r=y(e);r>=t&&(m=r,p=e.idx),e=e.parent}}return{idx:p,rowIdx:m}}({moveUp:"ArrowUp"===t,moveNext:t===tA||"Tab"===t&&!r,columns:ti,colSpanColumns:td,rows:g,topSummaryRows:x,bottomSummaryRows:p,minRowIdx:tb,mainHeaderRowIdx:ty,maxRowIdx:tC,lastFrozenColumnIndex:ta,cellNavigationMode:n,currentPosition:tS,nextPosition:l,isCellWithinBounds:rc}),{shouldFocusCell:!0})}function rw(e){let t=-1===tS.idx?void 0:ti[tS.idx];return void 0===t||tS.rowIdx!==e||t_.includes(t)?t_:tS.idx>tc?[...t_,t]:[...t_.slice(0,ta+1),t,...t_.slice(ta+1)]}(tS.idx>tq||tS.rowIdx>tC)&&(tj({idx:-1,rowIdx:tb-1,mode:"SELECT"}),e1(void 0)),e3&&eY!==W&&eX(W);let rp=`repeat(${ts}, ${eL}px)`;th>0&&(rp+=` repeat(${th}, ${e$}px)`),g.length>0&&(rp+=tO),tw>0&&(rp+=` repeat(${tw}, ${e$}px)`);let rm=-1===tS.idx&&tS.rowIdx!==tb-1;return(0,t.jsxs)("div",{role:eM,"aria-label":ek,"aria-labelledby":eI,"aria-description":eE,"aria-describedby":eR,"aria-multiselectable":!!tT||void 0,"aria-colcount":ti.length,"aria-rowcount":tM,tabIndex:-1,className:w("rdg rdg-7-0-0-beta-58-ccd2e5d9",{"rdg-viewport-dragging rdg-7-0-0-beta-58-e9b0e1c9":eQ},ev),style:{...eb,scrollPaddingInlineStart:tS.idx>ta||e5?.idx!==void 0?`${tx}px`:void 0,scrollPaddingBlock:ru(tS.rowIdx)||e5?.rowIdx!==void 0?`${tE+th*e$}px ${tw*e$}px`:void 0,gridTemplateColumns:tB,gridTemplateRows:rp,"--rdg-header-row-height":`${eL}px`,"--rdg-scroll-height":`${tV}px`,...tg},dir:e_,ref:tr,onScroll:function(e){let{scrollTop:t,scrollLeft:r}=e.currentTarget;(0,n.flushSync)(()=>{eU(t),eq(C(r))}),ec?.(e)},onKeyDown:function(e){let{idx:t,rowIdx:r,mode:n}=tS;if("EDIT"===n)return;if(es&&ru(r)){let n=g[r],o=d(e);if(es({mode:"SELECT",row:n,column:ti[t],rowIdx:r,selectCell:rx},o),o.isGridDefaultPrevented())return}if(!(e.target instanceof Element))return;let o=null!==e.target.closest(".rdg-cell"),l=tI&&e.target===tk.current;if(o||l)switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":rh(e);break;default:!function(e){var t;if(!tX)return;let r=g[tS.rowIdx],{key:n,shiftKey:o}=e;if(tT&&o&&" "===n){S(k);let t=k(r);rt({row:r,checked:!U.has(t),isShiftClick:!1}),e.preventDefault();return}!rg(tS)||(t=null!=ew,s(e)&&(86!==e.keyCode||t)||a.has(e.key))||tj(({idx:e,rowIdx:t})=>({idx:e,rowIdx:t,mode:"EDIT",row:r,originalRow:r}))}(e)}},onCopy:function(e){if(!tX)return;let{idx:t,rowIdx:r}=tS;eh?.({row:g[r],column:ti[t]},e)},onPaste:function(e){if(!ew||!T||!rg(tS))return;let{idx:t,rowIdx:r}=tS,n=ti[t];rr(n,r,ew({row:g[r],column:n},e))},"data-testid":eT,"data-cy":eN,children:[(0,t.jsxs)(R,{value:tP,children:[(0,t.jsx)(M,{value:t2,children:(0,t.jsxs)(A,{value:tL,children:[Array.from({length:tv},(e,r)=>(0,t.jsx)(Q,{rowIdx:r+1,level:-tv+r,columns:rw(tb+r),selectedCellIdx:tS.rowIdx===tb+r?tS.idx:void 0,selectCell:t9},r)),(0,t.jsx)(J,{headerRowClass:eC,rowIdx:ts,columns:rw(ty),onColumnResize:tJ,onColumnResizeEnd:tQ,onColumnsReorder:tZ,sortColumns:Y,onSortColumnsChange:t0,lastFrozenColumnIndex:ta,selectedCellIdx:tS.rowIdx===ty?tS.idx:void 0,selectCell:t9,shouldFocusGrid:!tY,direction:e_})]})}),0===g.length&&eH?eH:(0,t.jsxs)(t.Fragment,{children:[x?.map((e,r)=>{let n=ts+1+r,o=ty+1+r,l=tS.rowIdx===o;return(0,t.jsx)(eo,{"aria-rowindex":n,rowIdx:o,gridRowStart:n,row:e,top:tE+e$*r,bottom:void 0,viewportColumns:rw(o),lastFrozenColumnIndex:ta,selectedCellIdx:l?tS.idx:void 0,isTop:!0,selectCell:t3},r)}),(0,t.jsx)(N,{value:t4,children:function(){let e=[],{idx:r,rowIdx:l}=tS,i=tX&&l<t$?t$-1:t$,d=tX&&l>tz?tz+1:tz;for(let a=i;a<=d;a++){let i=a===t$-1||a===tz+1,d=i?l:a,s=t_,u=-1===r?void 0:ti[r];void 0!==u&&(s=i?[u]:rw(d));let c=g[d],f=tm+d+1,x=d,h=!1;"function"==typeof k&&(x=k(c),h=U?.has(x)??!1),e.push(ez(x,{"aria-rowindex":tm+d+1,"aria-selected":tT?h:void 0,rowIdx:d,row:c,viewportColumns:s,isRowSelectionDisabled:G?.(c)??!1,isRowSelected:h,onCellMouseDown:t1,onCellClick:t5,onCellDoubleClick:t8,onCellContextMenu:t7,rowClass:ey,gridRowStart:f,selectedCellIdx:l===d?r:void 0,draggedOverCellIdx:function(e){if(void 0===e0)return;let{rowIdx:t}=tS;return(t<e0?t<e&&e<=e0:t>e&&e>=e0)?tS.idx:void 0}(d),lastFrozenColumnIndex:ta,onRowChange:t6,selectCell:t3,selectedCellEditor:function(e){if(!rf(tS)||tS.rowIdx!==e||"SELECT"===tS.mode)return;let{idx:r,row:l}=tS,i=ti[r],d=o(i,ta,{type:"ROW",row:l}),a=i.editorOptions?.closeOnExternalRowChange??!0,s=e=>{e2(e),tj(({idx:e,rowIdx:t})=>({idx:e,rowIdx:t,mode:"SELECT"}))};return a&&g[tS.rowIdx]!==tS.originalRow&&s(!1),(0,t.jsx)(_,{column:i,colSpan:d,row:l,rowIdx:e,onRowChange:(e,t,r)=>{t?(0,n.flushSync)(()=>{rr(i,tS.rowIdx,e),s(r)}):tj(t=>({...t,row:e}))},closeEditor:s,onKeyDown:es,navigate:rh},i.key)}(d)}))}return e}()}),p?.map((e,r)=>{let n=tm+g.length+r+1,o=g.length+r,l=tS.rowIdx===o,i=tD>tF?to-e$*(p.length-r):void 0,d=void 0===i?e$*(p.length-1-r):void 0;return(0,t.jsx)(eo,{"aria-rowindex":tM-tw+r+1,rowIdx:o,gridRowStart:n,row:e,top:i,bottom:d,viewportColumns:rw(o),lastFrozenColumnIndex:ta,selectedCellIdx:l?tS.idx:void 0,isTop:!1,selectCell:t3},r)})]})]}),function(){if(null==ex||"EDIT"===tS.mode||!rf(tS))return;let{idx:e,rowIdx:r}=tS,n=ti[e];if(null==n.renderEditCell||!1===n.editable)return;let o=r===tC,l=tt(n),i=n.colSpan?.({type:"ROW",row:g[r]})??1,{insetInlineStart:d,...a}=h(n,i),s="calc(var(--rdg-drag-handle-size) * -0.5 + 1px)",u=n.idx+i-1===tq;return(0,t.jsx)("div",{style:{...a,gridRowStart:tm+r+1,marginInlineEnd:u?void 0:s,marginBlockEnd:o?void 0:s,insetInlineStart:d?`calc(${d} + ${l}px + var(--rdg-drag-handle-size) * -0.5 - 1px)`:void 0},className:w("rdg-cell-drag-handle rdg-7-0-0-beta-58-bfba19bc",n.frozen&&"rdg-7-0-0-beta-58-7abddb3e"),onPointerDown:ro,onPointerMove:eQ?rl:void 0,onLostPointerCapture:eQ?ri:void 0,onClick:rd,onDoubleClick:ra})}(),t_.map(({key:e,idx:r,minWidth:n,maxWidth:o})=>(0,t.jsx)("div",{className:"rdg-7-0-0-beta-58-fa71d63e",style:{gridColumnStart:r+1,minWidth:n,maxWidth:o},"data-measuring-cell-key":e},e)),tI&&(0,t.jsx)("div",{ref:tk,tabIndex:rm?0:-1,className:w("rdg-7-0-0-beta-58-dbb8b3c5",{"rdg-7-0-0-beta-58-e9f55541":!ru(tS.rowIdx),"rdg-7-0-0-beta-58-3fe773c3":rm,"rdg-7-0-0-beta-58-97ce3fde":rm&&-1!==ta}),style:{gridRowStart:tS.rowIdx+tm+1}}),null!==e5&&(0,t.jsx)(et,{scrollToPosition:e5,setScrollToCellPosition:e8,gridRef:tr})]})}function ei(e){return e.querySelector(':scope > [role="row"] > [tabindex="0"]')}function ed(e,t){return e.idx===t.idx&&e.rowIdx===t.rowIdx}var ea=(0,r.memo)(function({id:e,groupKey:r,childRows:n,isExpanded:o,isCellSelected:l,column:i,row:d,groupColumnIndex:a,isGroupByColumn:s,toggleGroup:u}){let{tabIndex:c,childTabIndex:f,onFocus:g}=O(l);function x(){u(e)}let w=s&&a===i.idx;return(0,t.jsx)("div",{role:"gridcell","aria-colindex":i.idx+1,"aria-selected":l,tabIndex:c,className:p(i),style:{...h(i),cursor:w?"pointer":"default"},onMouseDown:e=>{e.preventDefault()},onClick:w?x:void 0,onFocus:g,children:(!s||w)&&i.renderGroupCell?.({groupKey:r,childRows:n,column:i,row:d,isExpanded:o,tabIndex:f,toggleGroup:x})},i.key)});(0,r.memo)(function({className:e,row:n,rowIdx:o,viewportColumns:l,selectedCellIdx:i,isRowSelected:d,selectCell:a,gridRowStart:s,groupBy:u,toggleGroup:c,isRowSelectionDisabled:f,...x}){let h=l[0].key===P?n.level+1:n.level;return(0,t.jsx)(T,{value:(0,r.useMemo)(()=>({isRowSelectionDisabled:!1,isRowSelected:d}),[d]),children:(0,t.jsx)("div",{role:"row","aria-level":n.level+1,"aria-setsize":n.setSize,"aria-posinset":n.posInSet+1,"aria-expanded":n.isExpanded,className:w(Y,"rdg-group-row rdg-7-0-0-beta-58-e74a2be3",`rdg-row-${o%2==0?"even":"odd"}`,-1===i&&X,e),onMouseDown:function(){a({rowIdx:o,idx:-1},{shouldFocusCell:!0})},style:g(s),...x,children:l.map(e=>(0,t.jsx)(ea,{id:n.id,groupKey:n.groupKey,childRows:n.childRows,isExpanded:n.isExpanded,isCellSelected:i===e.idx,column:e,row:n,groupColumnIndex:h,toggleGroup:c,isGroupByColumn:u.includes(e.key)},e.key))})})});var es=e.i(70703),eu=e.i(18566),ec=e.i(53210),ef=e.i(29228),eg=e.i(55706),ex=e.i(85183),eh=e.i(93230),ew=e.i(72526),ep=e.i(34239),em=e.i(59559),ev=e.i(31195),eb=e.i(35602);let ey=(0,es.default)(()=>e.A(6925),{loadableGenerated:{modules:[5648]},ssr:!1});function eC(){let e=(0,eu.useRouter)(),[n,o]=(0,r.useState)(null),[l,i]=(0,r.useState)([]),[d,a]=(0,r.useState)([]),[s,u]=(0,r.useState)("Battery Test Project");(0,r.useEffect)(()=>{let e=localStorage.getItem("selectedProject");e&&u(e)},[]);let[c,f]=(0,r.useState)(!0);async function g(){try{let{data:e,error:t}=await ec.supabase.from("master_schedule").select("*").order("id",{ascending:!0});if(t){console.error("loadRows error:",t),i([]),a([]);return}let r=e||[];i(r),a(r.map(e=>({name:e.description||"-",Plan:Number(e.plan_progress||0),Actual:Number(e.actual_progress||0)})))}catch(e){console.error("loadRows exception:",e),i([]),a([])}}async function x(e,{indexes:t}){i(e);let r=t?.[0],n="number"==typeof r?e[r]:null;if(n&&n.id)try{let e={description:n.description,week_date:n.week_date,weight:n.weight,plan_progress:n.plan_progress,actual_progress:n.actual_progress,color:n.color,updated_at:new Date().toISOString()},{error:t}=await ec.supabase.from("master_schedule").update(e).eq("id",n.id);t&&console.error("update error:",t)}catch(e){console.error("update exception:",e)}}(0,r.useEffect)(()=>{(async()=>{let{data:t}=await ec.supabase.auth.getSession();t?.session?(o(t.session.user),await g(),f(!1)):e.push("/")})();let t=ec.supabase.channel("realtime:master_schedule");return t.on("postgres_changes",{event:"*",schema:"public",table:"master_schedule"},()=>g()).subscribe(),()=>{try{ec.supabase.removeChannel(t)}catch(e){}}},[e]);let h=Array.from({length:1e3},(e,t)=>(t+1)/10),w=["merah","kuning","hijau"],p=[{key:"id",name:"No",width:60},{key:"description",name:"Kegiatan",editable:!0,resizable:!0},{key:"week_date",name:"Tanggal / Minggu",editable:!0,width:150},{key:"weight",name:"Bobot (%)",editable:!0,width:120,editor:({row:e,onRowChange:r})=>(0,t.jsxs)("select",{value:e.weight??"",onChange:t=>r({...e,weight:t.target.value?Number(t.target.value):null}),className:"border px-1",children:[(0,t.jsx)("option",{value:"",children:"-"}),h.map(e=>(0,t.jsxs)("option",{value:e,children:[e.toFixed(1),"%"]},e))]})},{key:"plan_progress",name:"Target (%)",editable:!0,width:120},{key:"actual_progress",name:"Realisasi (%)",editable:!0,width:120},{key:"color",name:"Warna",editable:!0,width:120,editor:({row:e,onRowChange:r})=>(0,t.jsxs)("select",{value:e.color??"",onChange:t=>r({...e,color:t.target.value}),className:"border px-1",children:[(0,t.jsx)("option",{value:"",children:"-"}),w.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})}],m={lat:Number("-6.200000"),lng:Number("106.816666")};return c?(0,t.jsx)("div",{className:"p-6 text-center text-gray-600",children:"Memuat Master Schedule..."}):(0,t.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen space-y-6",children:[(0,t.jsxs)("header",{className:"flex justify-between items-center bg-blue-800 text-white p-4 rounded-md shadow",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold",children:["ðŸ“ Silver Dashboard â€” ",s]}),(0,t.jsx)("button",{onClick:async()=>{await (0,eb.handleLogout)(),e.push("/")},className:"bg-red-500 hover:bg-red-600 px-4 py-2 rounded text-sm font-medium",children:"Logout"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded shadow flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-blue-700",children:"PT ELEKTRINDO UTAMA INDONESIA"}),(0,t.jsx)("p",{className:"text-gray-600",children:"MECHANICAL - ELECTRICAL - FIRE PROTECTION"}),(0,t.jsxs)("p",{className:"text-sm mt-2",children:["Project: ",(0,t.jsx)("strong",{children:s})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("img",{src:"/logo.png",alt:"Logo",width:100,className:"rounded shadow-sm"})})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,t.jsx)("h2",{className:"font-semibold mb-2",children:"ðŸ“‹ Master Schedule â€” Editable (Silver)"}),(0,t.jsx)("div",{style:{height:420},children:(0,t.jsx)(el,{columns:p,rows:l,onRowsChange:x,rowKeyGetter:e=>e.id})})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,t.jsx)("h2",{className:"font-semibold mb-2",children:"ðŸ“ˆ Kurva S (Auto Update)"}),(0,t.jsx)("div",{style:{height:300},children:(0,t.jsx)(ev.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(ef.LineChart,{data:d,children:[(0,t.jsx)(ew.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(ex.XAxis,{dataKey:"name"}),(0,t.jsx)(eh.YAxis,{}),(0,t.jsx)(ep.Tooltip,{}),(0,t.jsx)(em.Legend,{}),(0,t.jsx)(eg.Line,{type:"monotone",dataKey:"Plan",stroke:"#8884d8",dot:!1}),(0,t.jsx)(eg.Line,{type:"monotone",dataKey:"Actual",stroke:"#82ca9d",dot:!1})]})})})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,t.jsx)("h2",{className:"font-semibold mb-2",children:"ðŸ“ Lokasi Progress / Pengiriman"}),(0,t.jsx)(ey,{center:m})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded shadow flex justify-between mt-8",children:[(0,t.jsxs)("div",{className:"text-center w-1/3",children:[(0,t.jsx)("p",{className:"font-medium",children:"Disusun oleh"}),(0,t.jsx)("div",{className:"mt-16 border-t border-gray-400 mx-6"}),(0,t.jsx)("p",{children:"Silver Engineer"})]}),(0,t.jsxs)("div",{className:"text-center w-1/3",children:[(0,t.jsx)("p",{className:"font-medium",children:"Diperiksa oleh"}),(0,t.jsx)("div",{className:"mt-16 border-t border-gray-400 mx-6"}),(0,t.jsx)("p",{children:"Manager Proyek"})]}),(0,t.jsxs)("div",{className:"text-center w-1/3",children:[(0,t.jsx)("p",{className:"font-medium",children:"Disetujui oleh"}),(0,t.jsx)("div",{className:"mt-16 border-t border-gray-400 mx-6"}),(0,t.jsx)("p",{children:"Direktur"})]})]})]})}e.s(["default",()=>eC,"dynamic",0,"force-dynamic"],49124)}]);